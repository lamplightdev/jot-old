{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","db/db.js","models/group.js","models/jot.js","models/model.js","node_modules/autolinker/dist/Autolinker.js","node_modules/browserify/lib/_empty.js","node_modules/browserify/node_modules/process/browser.js","node_modules/handlebars/dist/handlebars.runtime.js","node_modules/page/index.js","node_modules/page/node_modules/path-to-regexp/index.js","node_modules/page/node_modules/path-to-regexp/node_modules/isarray/index.js","public/js/app.js","routers/path.js","routes/auth.js","routes/client/auth.js","routes/client/group.js","routes/client/home.js","routes/client/jot.js","routes/group.js","routes/home.js","routes/jot.js","routes/routes.js","templates/helpers.js","utility/pubsub.js","views/colour-selector.js","views/group.js","views/groups.js","views/home.js","views/jots.js","views/titlebar.js","views/view-container.js","views/view.js","views/widget.js"],"names":[],"mappings":"AAAA;ACAA,YAAY,CAAC;;;;;;AAEb,IAAM,MAAM,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAC;;IAEtC,EAAE;AACK,WADP,EAAE,GACQ;0BADV,EAAE;;AAEJ,QAAI,CAAC,YAAY,GAAG,IAAI,CAAC;AACzB,QAAI,CAAC,GAAG,GAAG,IAAI,CAAC;GACjB;;eAJG,EAAE;;WAUF,cAAC,OAAO,EAAE;;;AAEZ,aAAO,GAAG,OAAO,IAAI;AACnB,gBAAQ,EAAE,IAAI;AACd,cAAM,EAAE,IAAI;AACZ,YAAI,EAAE,IAAI;AACV,gBAAQ,EAAE,IAAI;AACd,gBAAQ,EAAE,IAAI;AACd,cAAM,EAAE,IAAI;OACb,CAAC;;AAEF,UAAI,CAAC,YAAY,GAAG,OAAO,CAAC,QAAQ,GAAG,KAAK,CAAC;;AAE7C,UAAI,OAAO,CAAC,QAAQ,EAAE;AACpB,YAAI,CAAC,YAAY,IAAI,OAAO,CAAC,QAAQ,CAAC;OACvC;;AAED,UAAI,OAAO,CAAC,QAAQ,EAAE;AACpB,YAAI,CAAC,YAAY,IAAI,GAAG,GAAG,OAAO,CAAC,QAAQ,CAAC;OAC7C;;AAED,UAAI,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,QAAQ,EAAE;AACxC,YAAI,CAAC,YAAY,IAAI,GAAG,CAAC;OAC1B;;AAED,UAAI,CAAC,YAAY,IAAI,OAAO,CAAC,MAAM,CAAC;;AAEpC,UAAI,OAAO,CAAC,IAAI,EAAE;AAChB,YAAI,CAAC,YAAY,IAAI,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC;OACzC;;AAED,UAAI,CAAC,YAAY,IAAI,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC;;AAE1C,UAAI,OAAO,OAAO,KAAK,WAAW,EAAE;;;AAClC,iBAAO,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;AACxB,gBAAK,GAAG,GAAG,IAAI,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE;AACrC,2BAAe,EAAE,IAAI;WACtB,CAAC,CAAC;;AAEH,cAAM,IAAI,GAAG,EAAC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAC,CAAC;;AAEvC,gBAAK,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,MAAK,YAAY,EAAE,IAAI,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,UAAA,IAAI,EAAI;AAClE,mBAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;WAC5C,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,YAAM;AACpB,mBAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;WAC5C,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,YAAM;AACpB,mBAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;WAC5C,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,UAAA,IAAI,EAAI;AACtB,mBAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,IAAI,CAAC,CAAC;WAClD,CAAC,CAAC,EAAE,CAAC,UAAU,EAAE,UAAA,IAAI,EAAI;AACxB,mBAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;WAC9C,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAA,GAAG,EAAI;AACpB,mBAAO,CAAC,GAAG,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;WAChD,CAAC,CAAC;;AAEH,cAAI,OAAO,GAAG,EAAE,CAAC;;AAEjB,gBAAK,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,MAAK,YAAY,EAAE,IAAI,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,UAAA,IAAI,EAAI;AACpE,mBAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,IAAI,CAAC,CAAC;AACnD,mBAAO,GAAG,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;WACrC,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,YAAM;AACpB,mBAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;;AAE7C,kBAAM,CAAC,OAAO,CAAC,QAAQ,EAAE;AACvB,qBAAO,EAAP,OAAO;aACR,CAAC,CAAC;;AAEH,mBAAO,GAAG,EAAE,CAAC;WAEd,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,YAAM;AACpB,mBAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;WAC9C,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,UAAA,IAAI,EAAI;AACtB,mBAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,IAAI,CAAC,CAAC;WACpD,CAAC,CAAC,EAAE,CAAC,UAAU,EAAE,UAAA,IAAI,EAAI;AACxB,mBAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE,IAAI,CAAC,CAAC;WACtD,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAA,GAAG,EAAI;AACpB,mBAAO,CAAC,GAAG,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;WAClD,CAAC,CAAC;;OAEJ,MAAM;AACL,YAAM,QAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;;AAEnC,gBAAO,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;;AAExB,YAAI,CAAC,GAAG,GAAG,IAAI,QAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;OAC3C;KACF;;;SA1FK,eAAG;AACP,aAAO,IAAI,CAAC,GAAG,CAAC;KACjB;;;SARG,EAAE;;;AAoGR,IAAM,EAAE,GAAG,IAAI,EAAE,EAAE,CAAC;;AAEpB,MAAM,CAAC,OAAO,GAAG,UAAC,OAAO,EAAK;AAC5B,MAAI,OAAO,EAAE;;AAEX,MAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACjB,WAAO,EAAE,CAAC,EAAE,CAAC;GAEd,MAAM;AACL,WAAO,EAAE,CAAC,EAAE,CAAC;GACd;CACF,CAAC;;;;;;;;;;;;;ACnHF,IAAM,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AACjC,IAAM,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;;IAEvB,KAAK;YAAL,KAAK;;AAEE,WAFP,KAAK,CAEG,OAAO,EAAE;0BAFjB,KAAK;;AAGP,+BAHE,KAAK,6CAGD,OAAO,EAAE,CACb,MAAM,EACN,QAAQ,CACT,EAAE;;AAEH,QAAI,CAAC,KAAK,GAAG,EAAE,CAAC;GACjB;;eATG,KAAK;;WAkCD,oBAAG;;;AACT,aAAO,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAA,IAAI,EAAI;AAC5C,cAAK,KAAK,GAAG,IAAI,CAAC;AAClB,qBAAY;OACb,CAAC,CAAC;KACJ;;;SAjBU,eAAG;AACZ,aAAO,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;KACtC;;;SAEO,eAAG;AACT,aAAO,IAAI,CAAC,KAAK,CAAC;KACnB;;;SAEW,eAAG;AACb,aAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;KAC1B;;;WArBgB,sBAAG;AAClB,aAAO,CACL,MAAM,EACN,KAAK,EACL,MAAM,EACN,QAAQ,EACR,QAAQ,EACR,OAAO,CACR,CAAC;KACH;;;WAqBU,cAAC,EAAE,EAAmB;UAAjB,QAAQ,yDAAG,IAAI;;AAC7B,aAAO,2BA1CL,KAAK,4BA0CW,EAAE,EAAE,IAAI,CAAC,UAAA,KAAK,EAAI;AAClC,YAAI,QAAQ,EAAE;AACZ,iBAAO,KAAK,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,YAAM;AACjC,mBAAO,KAAK,CAAC;WACd,CAAC,CAAC;SACJ,MAAM;AACL,iBAAO,KAAK,CAAC;SACd;OACF,CAAC,CAAC;KACJ;;;WAEa,mBAAkB;UAAjB,QAAQ,yDAAG,IAAI;;AAC5B,aAAO,2BAtDL,KAAK,+BAsDgB,IAAI,CAAC,UAAA,MAAM,EAAI;AACpC,YAAM,QAAQ,GAAG,EAAE,CAAC;;AAEpB,YAAI,QAAQ,EAAE;AACZ,gBAAM,CAAC,OAAO,CAAC,UAAA,KAAK,EAAI;AACtB,oBAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;WACjC,CAAC,CAAC;SACJ;;AAED,eAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;OAC9B,CAAC,CAAC;KACJ;;;SAjEG,KAAK;GAAS,KAAK;;AAoEzB,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;;;;;;;;;;;;;ACvEvB,IAAM,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;;IAE3B,GAAG;YAAH,GAAG;;AAEI,WAFP,GAAG,CAEK,OAAO,EAAE;0BAFjB,GAAG;;AAGL,+BAHE,GAAG,6CAGC,OAAO,EAAE,CACb,SAAS,EACT,OAAO,EACP,MAAM,EACN,UAAU,CACX,EAAE;;AAEH,QAAI,CAAC,MAAM,GAAG,IAAI,CAAC;GACpB;;eAXG,GAAG;;WAqCE,qBAAG;;;AACV,aAAO,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,YAAM;AAClC,YAAM,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;;AAEjC,eAAO,KAAK,CAAC,IAAI,CAAC,MAAK,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,IAAI,CAAC,UAAA,KAAK,EAAI;AACxD,gBAAK,MAAM,GAAG,KAAK,CAAC;AACpB,uBAAY;SACb,CAAC,CAAC;OACJ,CAAC,CAAC;KACJ;;;SAzBa,eAAG;AACf,aAAO,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC;KACzC;;;SAEQ,eAAG;AACV,aAAO,IAAI,CAAC,MAAM,CAAC;KACpB;;;SAEY,eAAG;AACd,UAAI,IAAI,CAAC,MAAM,EAAE;AACf,eAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;OAChC,MAAM;AACL,eAAO,GAAG,CAAC;OACZ;KACF;;;WAtBmB,yBAAG;AACrB,aAAO,CACL,GAAG,EACH,GAAG,EACH,GAAG,CACJ,CAAC;KACH;;;WA6BU,cAAC,EAAE,EAAoB;UAAlB,SAAS,yDAAG,IAAI;;AAC9B,aAAO,2BAjDL,GAAG,4BAiDa,EAAE,EAAE,IAAI,CAAC,UAAA,GAAG,EAAI;AAChC,YAAI,SAAS,EAAE;AACb,iBAAO,GAAG,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,YAAM;AAChC,mBAAO,GAAG,CAAC;WACZ,CAAC,CAAC;SACJ,MAAM;AACL,iBAAO,GAAG,CAAC;SACZ;OACF,CAAC,CAAC;KACJ;;;WAEa,mBAAoB;;;UAAnB,UAAU,yDAAG,IAAI;;AAC9B,aAAO,2BA7DL,GAAG,+BA6DkB,IAAI,CAAC,UAAA,IAAI,EAAI;AAClC,YAAM,QAAQ,GAAG,EAAE,CAAC;;AAEpB,YAAI,UAAU,EAAE;AACd,cAAI,CAAC,OAAO,CAAC,UAAA,GAAG,EAAI;AAClB,oBAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,CAAC;WAChC,CAAC,CAAC;SACJ;;AAED,eAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAM;AACtC,iBAAO,OAAK,SAAS,CAAC,IAAI,CAAC,CAAC;SAC7B,CAAC,CAAC;OACJ,CAAC,CAAC;KACJ;;;WAEe,mBAAC,IAAI,EAAE;AACrB,UAAM,UAAU,GAAG,EAAE,CAAC;AACtB,UAAM,QAAQ,GAAG,EAAE,CAAC;;AAEpB,UAAI,CAAC,OAAO,CAAC,UAAA,GAAG,EAAI;AAClB,YAAI,GAAG,CAAC,MAAM,EAAE,EAAE;AAChB,kBAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACpB,MAAM;AACL,oBAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACtB;OACF,CAAC,CAAC;;AAEH,aAAO,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;KACpC;;;WAEkB,sBAAC,OAAO,EAAE;;;AAC3B,aAAO,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,YAAM;AAClC,YAAM,EAAE,GAAG,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC;;AAEjC,eAAO,EAAE,CAAC,KAAK,CAAC,aAAa,EAAE;AAC7B,gBAAM,EAAE,OAAK,UAAU,EAAE,GAAG,GAAG;AAC/B,kBAAQ,EAAE,OAAK,UAAU,EAAE,GAAG,IAAS;AACvC,oBAAU,EAAE,IAAI;AAChB,aAAG,EAAE,OAAO;AACZ,sBAAY,EAAE,IAAI;SACnB,CAAC,CAAC,IAAI,CAAC,UAAA,MAAM,EAAI;AAChB,cAAM,IAAI,GAAG,EAAE,CAAC;;AAEhB,gBAAM,CAAC,IAAI,CAAC,OAAO,CAAC,UAAA,GAAG,EAAI;AACzB,gBAAI,CAAC,IAAI,CAAC,WAAS,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;WAC9B,CAAC,CAAC;;AAEH,iBAAO,OAAK,SAAS,CAAC,IAAI,CAAC,CAAC;SAC7B,CAAC,CAAC;OACJ,CAAC,CAAC;KACJ;;;SA/GG,GAAG;GAAS,KAAK;;AAkHvB,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC;;;;;;;;;ICpHf,KAAK;AAEE,WAFP,KAAK,CAEG,OAAO,EAAE,aAAa,EAAE;0BAFhC,KAAK;;AAGP,QAAI,CAAC,GAAG,GAAG,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC;;AAEjC,QAAI,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,IAAI,IAAI,CAAC;AAC/B,QAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC;;AAEjC,QAAI,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,IAAI,EAAE,CAAC;;AAEpC,QAAI,CAAC,cAAc,GAAG,aAAa,CAAC;GACrC;;eAXG,KAAK;;WAyDJ,iBAAG;AACN,aAAO,CAAC,IAAI,CAAC,EAAE,CAAC;KACjB;;;WAEK,kBAAG;AACP,aAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;KACzB;;;WAEM,mBAAG;;;AACR,aAAO,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,YAAM;AAClC,YAAI,CAAC,MAAK,KAAK,EAAE,EAAE;AACjB,iBAAO,OAAO,CAAC,OAAO,CAAC,MAAK,EAAE,CAAC,CAAC;SACjC,MAAM;;AACL,gBAAI,IAAI,GAAG,MAAK,OAAO,GAAG,GAAG,CAAC;;AAE9B,gBAAM,OAAO,GAAG,CAAC,CAAC;;AAElB;iBAAO,MAAK,GAAG,CAAC,OAAO,CAAC;AACtB,wBAAQ,EAAE,IAAI,GAAG,GAAQ;AACzB,sBAAM,EAAE,IAAI;AACZ,0BAAU,EAAE,IAAI;AAChB,qBAAK,EAAE,CAAC;eACT,CAAC,CAAC,IAAI,CAAC,UAAA,MAAM,EAAI;AAChB,oBAAI,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;AAC1B,sBAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AACpD,sBAAM,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;;AAEhE,yBAAO,IAAI,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,OAAO,GAAG,CAAC,CAAA,CAAC,CAAE,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC;iBACrE,MAAM;AACL,yBAAO,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;iBACnC;eACF,CAAC;cAAC;;;;SACJ;OACF,CAAC,CAAC;KACJ;;;WAEG,gBAAG;;;AACL,aAAO,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,UAAA,IAAI,EAAI;AACjC,YAAM,MAAM,GAAG;AACb,aAAG,EAAE,IAAI;AACT,gBAAM,EAAE,OAAK,MAAM;SACpB,CAAC;;AAEF,YAAI,CAAC,OAAK,KAAK,EAAE,EAAE;AACjB,gBAAM,CAAC,IAAI,GAAG,OAAK,GAAG,CAAC;SACxB;;AAED,eAAO,OAAK,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAA,QAAQ,EAAI;AAC3C,cAAI,QAAQ,CAAC,EAAE,EAAE;AACf,mBAAK,EAAE,GAAG,QAAQ,CAAC,EAAE,CAAC;AACtB,mBAAK,GAAG,GAAG,QAAQ,CAAC,GAAG,CAAC;;AAExB,mBAAO,IAAI,CAAC;WACb,MAAM;AACL,mBAAO,KAAK,CAAC;WACd;SACF,CAAC,CAAC;OAEJ,CAAC,CAAC;KACJ;;;SAnGU,eAAG;AACZ,aAAO,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;KACtC;;;SAEK,eAAG;AACP,aAAO,IAAI,CAAC,GAAG,CAAC;KACjB;SAEK,aAAC,EAAE,EAAE;AACT,UAAI,CAAC,GAAG,GAAG,EAAE,CAAC;;AAEd,aAAO,IAAI,CAAC;KACb;;;SAEM,eAAG;AACR,aAAO,IAAI,CAAC,IAAI,CAAC;KAClB;SAEM,aAAC,GAAG,EAAE;AACX,UAAI,CAAC,IAAI,GAAG,GAAG,CAAC;;AAEhB,aAAO,IAAI,CAAC;KACb;;;SAES,aAAC,MAAM,EAAE;AACjB,UAAI,CAAC,OAAO,GAAG,EAAE,CAAC;;AAElB,WAAK,IAAI,SAAS,IAAI,MAAM,EAAE;AAC5B,YAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE;AAC/C,cAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;SAC7C;OACF;;AAED,aAAO,IAAI,CAAC;KACb;SAES,eAAG;AACX,aAAO,IAAI,CAAC,OAAO,CAAC;KACrB;;;WA1CgB,sBAAG;AAClB,aAAO,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;KAChC;;;WAuGa,mBAAG;;;AACf,aAAO,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,YAAM;AAClC,YAAM,EAAE,GAAG,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC;;AAEjC,eAAO,EAAE,CAAC,OAAO,CAAC;AAChB,gBAAM,EAAE,OAAK,UAAU,EAAE,GAAG,GAAG;AAC/B,kBAAQ,EAAE,OAAK,UAAU,EAAE,GAAG,IAAS;AACvC,sBAAY,EAAE,IAAI;AAClB,oBAAU,EAAE,IAAI;SACjB,CAAC,CAAC,IAAI,CAAC,UAAA,MAAM,EAAI;AAChB,cAAM,MAAM,GAAG,EAAE,CAAC;;AAElB,gBAAM,CAAC,IAAI,CAAC,OAAO,CAAC,UAAA,GAAG,EAAI;AACzB,kBAAM,CAAC,IAAI,CAAC,WAAS,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;WAChC,CAAC,CAAC;;AAEH,iBAAO,MAAM,CAAC;SACf,CAAC,CAAC;OACJ,CAAC,CAAC;KACJ;;;WAEU,cAAC,EAAE,EAAE;;;AACd,aAAO,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,YAAM;AAClC,YAAI,OAAO,EAAE,KAAK,WAAW,EAAE;AAC7B,cAAM,EAAE,GAAG,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC;;AAEjC,iBAAO,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAA,GAAG,EAAI;AAC5B,mBAAO,WAAS,GAAG,CAAC,CAAC;WACtB,CAAC,SAAM,CAAC,UAAA,GAAG,EAAI;AACd,mBAAO,KAAK,CAAC;WACd,CAAC,CAAC;SACJ,MAAM;AACL,iBAAO,KAAK,CAAC;SACd;OACF,CAAC,CAAC;KACJ;;;WAEY,gBAAC,EAAE,EAAE;AAChB,aAAO,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,YAAM;AAClC,YAAM,EAAE,GAAG,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC;;AAEjC,eAAO,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAA,GAAG,EAAI;AAC5B,iBAAO,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;SACvB,CAAC,CAAC;OACJ,CAAC,CAAC;KACJ;;;SAnKG,KAAK;;;AAsKX,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;;;ACtKvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxwFA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACh3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3mBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","file":"app-dist.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nconst PubSub = require('../utility/pubsub');\n\nclass DB {\n  constructor() {\n    this._remoteCouch = null;\n    this._db = null;\n  }\n\n  get db() {\n    return this._db;\n  }\n\n  init(options) {\n\n    options = options || {\n      protocol: null,\n      domain: null,\n      port: null,\n      username: null,\n      password: null,\n      dbName: null\n    };\n\n    this._remoteCouch = options.protocol + '://';\n\n    if (options.username) {\n      this._remoteCouch += options.username;\n    }\n\n    if (options.password) {\n      this._remoteCouch += ':' + options.password;\n    }\n\n    if (options.username || options.password) {\n      this._remoteCouch += '@';\n    }\n\n    this._remoteCouch += options.domain;\n\n    if (options.port) {\n      this._remoteCouch += ':' + options.port;\n    }\n\n    this._remoteCouch += '/' + options.dbName;\n\n    if (typeof PouchDB !== 'undefined') { //browser\n      PouchDB.debug.disable();\n      this._db = new PouchDB(options.dbName, {\n        auto_compaction: true\n      });\n\n      const opts = {live: true, retry: true};\n\n      this._db.replicate.to(this._remoteCouch, opts).on('change', info => {\n        console.log('browser replicate to change');\n      }).on('paused', () => {\n        console.log('browser replicate to paused');\n      }).on('active', () => {\n        console.log('browser replicate to active');\n      }).on('denied', info => {\n        console.log('browser replicate to denied', info);\n      }).on('complete', info => {\n        console.log('browser replicate to complete');\n      }).on('error', err => {\n        console.log('browser replicate to error', err);\n      });\n\n      let changes = [];\n\n      this._db.replicate.from(this._remoteCouch, opts).on('change', info => {\n        console.log('browser replicate from change', info);\n        changes = changes.concat(info.docs);\n      }).on('paused', () => {\n        console.log('browser replicate from paused');\n\n        PubSub.publish('update', {\n          changes\n        });\n\n        changes = [];\n\n      }).on('active', () => {\n        console.log('browser replicate from active');\n      }).on('denied', info => {\n        console.log('browser replicate from denied', info);\n      }).on('complete', info => {\n        console.log('browser replicate from complete', info);\n      }).on('error', err => {\n        console.log('browser replicate from error', err);\n      });\n\n    } else {\n      const PouchDB = require('pouchdb');\n      //PouchDB.plugin(require('pouchdb-find'));\n      PouchDB.debug.disable();\n\n      this._db = new PouchDB(this._remoteCouch);\n    }\n  }\n\n}\n\nconst db = new DB();\n\nmodule.exports = (options) => {\n  if (options) {\n\n    db.init(options);\n    return db.db;\n\n  } else {\n    return db.db;\n  }\n};\n","const Model = require('./model');\nconst Jot = require('./jot');\n\nclass Group extends Model {\n\n  constructor(members) {\n    super(members, [\n      'name',\n      'colour'\n    ]);\n\n    this._jots = [];\n  }\n\n  static getColours() {\n    return [\n      'blue',\n      'red',\n      'teal',\n      'yellow',\n      'orange',\n      'brown'\n    ];\n  }\n\n  get colours() {\n    return this.constructor.getColours();\n  }\n\n  get jots() {\n    return this._jots;\n  }\n\n  get jotCount() {\n    return this._jots.length;\n  }\n\n  loadJots() {\n    return Jot.loadForGroup(this.id).then(jots => {\n      this._jots = jots;\n      return this;\n    });\n  }\n\n  static load(id, loadJots = true) {\n    return super.load(id).then(group => {\n      if (loadJots) {\n        return group.loadJots().then(() => {\n          return group;\n        });\n      } else {\n        return group;\n      }\n    });\n  }\n\n  static loadAll(loadJots = true) {\n    return super.loadAll().then(groups => {\n      const promises = [];\n\n      if (loadJots) {\n        groups.forEach(group => {\n          promises.push(group.loadJots());\n        });\n      }\n\n      return Promise.all(promises);\n    });\n  }\n}\n\nmodule.exports = Group;\n","const Model = require('./model');\n\nclass Jot extends Model {\n\n  constructor(members) {\n    super(members, [\n      'content',\n      'group',\n      'done',\n      'priority'\n    ]);\n\n    this._group = null;\n  }\n\n  static getPriorities() {\n    return [\n      '2',\n      '1',\n      '0'\n    ];\n  }\n\n  get priorities() {\n    return this.constructor.getPriorities();\n  }\n\n  get group() {\n    return this._group;\n  }\n\n  get groupName() {\n    if (this._group) {\n      return this._group.fields.name;\n    } else {\n      return '-';\n    }\n  }\n\n  loadGroup() {\n    return Promise.resolve().then(() => {\n      const Group = require('./group');\n\n      return Group.load(this.fields.group, false).then(group => {\n        this._group = group;\n        return this;\n      });\n    });\n  }\n\n  static load(id, loadGroup = true) {\n    return super.load(id).then(jot => {\n      if (loadGroup) {\n        return jot.loadGroup().then(() => {\n          return jot;\n        });\n      } else {\n        return jot;\n      }\n    });\n  }\n\n  static loadAll(loadGroups = true) {\n    return super.loadAll().then(jots => {\n      const promises = [];\n\n      if (loadGroups) {\n        jots.forEach(jot => {\n          promises.push(jot.loadGroup());\n        });\n      }\n\n      return Promise.all(promises).then(() => {\n        return this.orderJots(jots);\n      });\n    });\n  }\n\n  static orderJots(jots) {\n    const undoneJots = [];\n    const doneJots = [];\n\n    jots.forEach(jot => {\n      if (jot.isDone()) {\n        doneJots.push(jot);\n      } else {\n        undoneJots.push(jot);\n      }\n    });\n\n    return undoneJots.concat(doneJots);\n  }\n\n  static loadForGroup(groupId) {\n    return Promise.resolve().then(() => {\n      const db = require('../db/db')();\n\n      return db.query('index/group', {\n        endkey: this.getRefName() + '-',\n        startkey: this.getRefName() + '-\\uffff',\n        descending: true,\n        key: groupId,\n        include_docs: true\n      }).then(result => {\n        const jots = [];\n\n        result.rows.forEach(row => {\n          jots.push(new this(row.doc));\n        });\n\n        return this.orderJots(jots);\n      });\n    });\n  }\n}\n\nmodule.exports = Jot;\n","class Model {\n\n  constructor(members, allowedFields) {\n    this._db = require('../db/db')();\n\n    this._id = members._id || null;\n    this._rev = members._rev || null;\n\n    this._fields = members.fields || {};\n\n    this._allowedFields = allowedFields;\n  }\n\n  static getRefName() {\n    return this.name.toLowerCase();\n  }\n\n  get refName() {\n    return this.constructor.getRefName();\n  }\n\n  get id() {\n    return this._id;\n  }\n\n  set id(id) {\n    this._id = id;\n\n    return this;\n  }\n\n  get rev() {\n    return this._rev;\n  }\n\n  set rev(rev) {\n    this._rev = rev;\n\n    return this;\n  }\n\n  set fields(fields) {\n    this._fields = {};\n\n    for (let fieldName in fields) {\n      if (this._allowedFields.indexOf(fieldName) > -1) {\n        this._fields[fieldName] = fields[fieldName];\n      }\n    }\n\n    return this;\n  }\n\n  get fields() {\n    return this._fields;\n  }\n\n  isNew() {\n    return !this.id;\n  }\n\n  isDone() {\n    return this.fields.done;\n  }\n\n  getSlug() {\n    return Promise.resolve().then(() => {\n      if (!this.isNew()) {\n        return Promise.resolve(this.id);\n      } else {\n        let slug = this.refName + '-';\n\n        const padding = 5; //the length of the number, e.g. '5' will start at 00000, 00001, etc.\n\n        return this._db.allDocs({\n          startkey: slug + '\\uffff',\n          endKey: slug,\n          descending: true,\n          limit: 1\n        }).then(result => {\n          if (result.rows.length > 0) {\n            const lastDoc = result.rows[result.rows.length - 1];\n            const lastNum = parseInt(lastDoc.id.substring(slug.length), 10);\n\n            return slug + ('0'.repeat(padding) + (lastNum + 1)).slice(-padding);\n          } else {\n            return slug + '0'.repeat(padding);\n          }\n        });\n      }\n    });\n  }\n\n  save() {\n    return this.getSlug().then(slug => {\n      const params = {\n        _id: slug,\n        fields: this.fields\n      };\n\n      if (!this.isNew()) {\n        params._rev = this.rev;\n      }\n\n      return this._db.put(params).then(response => {\n        if (response.ok) {\n          this.id = response.id;\n          this.rev = response.rev;\n\n          return true;\n        } else {\n          return false;\n        }\n      });\n\n    });\n  }\n\n  static loadAll() {\n    return Promise.resolve().then(() => {\n      const db = require('../db/db')();\n\n      return db.allDocs({\n        endkey: this.getRefName() + '-',\n        startkey: this.getRefName() + '-\\uffff',\n        include_docs: true,\n        descending: true\n      }).then(result => {\n        const models = [];\n\n        result.rows.forEach(row => {\n          models.push(new this(row.doc));\n        });\n\n        return models;\n      });\n    });\n  }\n\n  static load(id) {\n    return Promise.resolve().then(() => {\n      if (typeof id !== 'undefined') {\n        const db = require('../db/db')();\n\n        return db.get(id).then(doc => {\n          return new this(doc);\n        }).catch(err => {\n          return false;\n        });\n      } else {\n        return false;\n      }\n    });\n  }\n\n  static remove(id) {\n    return Promise.resolve().then(() => {\n      const db = require('../db/db')();\n\n      return db.get(id).then(doc => {\n        return db.remove(doc);\n      });\n    });\n  }\n}\n\nmodule.exports = Model;\n","(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define([], function () {\n      return (root['Autolinker'] = factory());\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    root['Autolinker'] = factory();\n  }\n}(this, function () {\n\n/*!\n * Autolinker.js\n * 0.18.1\n *\n * Copyright(c) 2015 Gregory Jacobs <greg@greg-jacobs.com>\n * MIT Licensed. http://www.opensource.org/licenses/mit-license.php\n *\n * https://github.com/gregjacobs/Autolinker.js\n */\n/**\n * @class Autolinker\n * @extends Object\n *\n * Utility class used to process a given string of text, and wrap the matches in\n * the appropriate anchor (&lt;a&gt;) tags to turn them into links.\n *\n * Any of the configuration options may be provided in an Object (map) provided\n * to the Autolinker constructor, which will configure how the {@link #link link()}\n * method will process the links.\n *\n * For example:\n *\n *     var autolinker = new Autolinker( {\n *         newWindow : false,\n *         truncate  : 30\n *     } );\n *\n *     var html = autolinker.link( \"Joe went to www.yahoo.com\" );\n *     // produces: 'Joe went to <a href=\"http://www.yahoo.com\">yahoo.com</a>'\n *\n *\n * The {@link #static-link static link()} method may also be used to inline options into a single call, which may\n * be more convenient for one-off uses. For example:\n *\n *     var html = Autolinker.link( \"Joe went to www.yahoo.com\", {\n *         newWindow : false,\n *         truncate  : 30\n *     } );\n *     // produces: 'Joe went to <a href=\"http://www.yahoo.com\">yahoo.com</a>'\n *\n *\n * ## Custom Replacements of Links\n *\n * If the configuration options do not provide enough flexibility, a {@link #replaceFn}\n * may be provided to fully customize the output of Autolinker. This function is\n * called once for each URL/Email/Phone#/Twitter Handle/Hashtag match that is\n * encountered.\n *\n * For example:\n *\n *     var input = \"...\";  // string with URLs, Email Addresses, Phone #s, Twitter Handles, and Hashtags\n *\n *     var linkedText = Autolinker.link( input, {\n *         replaceFn : function( autolinker, match ) {\n *             console.log( \"href = \", match.getAnchorHref() );\n *             console.log( \"text = \", match.getAnchorText() );\n *\n *             switch( match.getType() ) {\n *                 case 'url' :\n *                     console.log( \"url: \", match.getUrl() );\n *\n *                     if( match.getUrl().indexOf( 'mysite.com' ) === -1 ) {\n *                         var tag = autolinker.getTagBuilder().build( match );  // returns an `Autolinker.HtmlTag` instance, which provides mutator methods for easy changes\n *                         tag.setAttr( 'rel', 'nofollow' );\n *                         tag.addClass( 'external-link' );\n *\n *                         return tag;\n *\n *                     } else {\n *                         return true;  // let Autolinker perform its normal anchor tag replacement\n *                     }\n *\n *                 case 'email' :\n *                     var email = match.getEmail();\n *                     console.log( \"email: \", email );\n *\n *                     if( email === \"my@own.address\" ) {\n *                         return false;  // don't auto-link this particular email address; leave as-is\n *                     } else {\n *                         return;  // no return value will have Autolinker perform its normal anchor tag replacement (same as returning `true`)\n *                     }\n *\n *                 case 'phone' :\n *                     var phoneNumber = match.getPhoneNumber();\n *                     console.log( phoneNumber );\n *\n *                     return '<a href=\"http://newplace.to.link.phone.numbers.to/\">' + phoneNumber + '</a>';\n *\n *                 case 'twitter' :\n *                     var twitterHandle = match.getTwitterHandle();\n *                     console.log( twitterHandle );\n *\n *                     return '<a href=\"http://newplace.to.link.twitter.handles.to/\">' + twitterHandle + '</a>';\n *\n *                 case 'hashtag' :\n *                     var hashtag = match.getHashtag();\n *                     console.log( hashtag );\n *\n *                     return '<a href=\"http://newplace.to.link.hashtag.handles.to/\">' + hashtag + '</a>';\n *             }\n *         }\n *     } );\n *\n *\n * The function may return the following values:\n *\n * - `true` (Boolean): Allow Autolinker to replace the match as it normally would.\n * - `false` (Boolean): Do not replace the current match at all - leave as-is.\n * - Any String: If a string is returned from the function, the string will be used directly as the replacement HTML for\n *   the match.\n * - An {@link Autolinker.HtmlTag} instance, which can be used to build/modify an HTML tag before writing out its HTML text.\n *\n * @constructor\n * @param {Object} [config] The configuration options for the Autolinker instance, specified in an Object (map).\n */\nvar Autolinker = function( cfg ) {\n\tAutolinker.Util.assign( this, cfg );  // assign the properties of `cfg` onto the Autolinker instance. Prototype properties will be used for missing configs.\n\n\t// Validate the value of the `hashtag` cfg.\n\tvar hashtag = this.hashtag;\n\tif( hashtag !== false && hashtag !== 'twitter' && hashtag !== 'facebook' ) {\n\t\tthrow new Error( \"invalid `hashtag` cfg - see docs\" );\n\t}\n};\n\nAutolinker.prototype = {\n\tconstructor : Autolinker,  // fix constructor property\n\n\t/**\n\t * @cfg {Boolean} urls\n\t *\n\t * `true` if miscellaneous URLs should be automatically linked, `false` if they should not be.\n\t */\n\turls : true,\n\n\t/**\n\t * @cfg {Boolean} email\n\t *\n\t * `true` if email addresses should be automatically linked, `false` if they should not be.\n\t */\n\temail : true,\n\n\t/**\n\t * @cfg {Boolean} twitter\n\t *\n\t * `true` if Twitter handles (\"@example\") should be automatically linked, `false` if they should not be.\n\t */\n\ttwitter : true,\n\n\t/**\n\t * @cfg {Boolean} phone\n\t *\n\t * `true` if Phone numbers (\"(555)555-5555\") should be automatically linked, `false` if they should not be.\n\t */\n\tphone: true,\n\n\t/**\n\t * @cfg {Boolean/String} hashtag\n\t *\n\t * A string for the service name to have hashtags (ex: \"#myHashtag\")\n\t * auto-linked to. The currently-supported values are:\n\t *\n\t * - 'twitter'\n\t * - 'facebook'\n\t *\n\t * Pass `false` to skip auto-linking of hashtags.\n\t */\n\thashtag : false,\n\n\t/**\n\t * @cfg {Boolean} newWindow\n\t *\n\t * `true` if the links should open in a new window, `false` otherwise.\n\t */\n\tnewWindow : true,\n\n\t/**\n\t * @cfg {Boolean} stripPrefix\n\t *\n\t * `true` if 'http://' or 'https://' and/or the 'www.' should be stripped\n\t * from the beginning of URL links' text, `false` otherwise.\n\t */\n\tstripPrefix : true,\n\n\t/**\n\t * @cfg {Number} truncate\n\t *\n\t * A number for how many characters long matched text should be truncated to inside the text of\n\t * a link. If the matched text is over this number of characters, it will be truncated to this length by\n\t * adding a two period ellipsis ('..') to the end of the string.\n\t *\n\t * For example: A url like 'http://www.yahoo.com/some/long/path/to/a/file' truncated to 25 characters might look\n\t * something like this: 'yahoo.com/some/long/pat..'\n\t */\n\ttruncate : undefined,\n\n\t/**\n\t * @cfg {String} className\n\t *\n\t * A CSS class name to add to the generated links. This class will be added to all links, as well as this class\n\t * plus match suffixes for styling url/email/phone/twitter/hashtag links differently.\n\t *\n\t * For example, if this config is provided as \"myLink\", then:\n\t *\n\t * - URL links will have the CSS classes: \"myLink myLink-url\"\n\t * - Email links will have the CSS classes: \"myLink myLink-email\", and\n\t * - Twitter links will have the CSS classes: \"myLink myLink-twitter\"\n\t * - Phone links will have the CSS classes: \"myLink myLink-phone\"\n\t * - Hashtag links will have the CSS classes: \"myLink myLink-hashtag\"\n\t */\n\tclassName : \"\",\n\n\t/**\n\t * @cfg {Function} replaceFn\n\t *\n\t * A function to individually process each match found in the input string.\n\t *\n\t * See the class's description for usage.\n\t *\n\t * This function is called with the following parameters:\n\t *\n\t * @cfg {Autolinker} replaceFn.autolinker The Autolinker instance, which may be used to retrieve child objects from (such\n\t *   as the instance's {@link #getTagBuilder tag builder}).\n\t * @cfg {Autolinker.match.Match} replaceFn.match The Match instance which can be used to retrieve information about the\n\t *   match that the `replaceFn` is currently processing. See {@link Autolinker.match.Match} subclasses for details.\n\t */\n\n\n\t/**\n\t * @private\n\t * @property {Autolinker.htmlParser.HtmlParser} htmlParser\n\t *\n\t * The HtmlParser instance used to skip over HTML tags, while finding text nodes to process. This is lazily instantiated\n\t * in the {@link #getHtmlParser} method.\n\t */\n\thtmlParser : undefined,\n\n\t/**\n\t * @private\n\t * @property {Autolinker.matchParser.MatchParser} matchParser\n\t *\n\t * The MatchParser instance used to find matches in the text nodes of an input string passed to\n\t * {@link #link}. This is lazily instantiated in the {@link #getMatchParser} method.\n\t */\n\tmatchParser : undefined,\n\n\t/**\n\t * @private\n\t * @property {Autolinker.AnchorTagBuilder} tagBuilder\n\t *\n\t * The AnchorTagBuilder instance used to build match replacement anchor tags. Note: this is lazily instantiated\n\t * in the {@link #getTagBuilder} method.\n\t */\n\ttagBuilder : undefined,\n\n\t/**\n\t * Automatically links URLs, Email addresses, Phone numbers, Twitter\n\t * handles, and Hashtags found in the given chunk of HTML. Does not link\n\t * URLs found within HTML tags.\n\t *\n\t * For instance, if given the text: `You should go to http://www.yahoo.com`,\n\t * then the result will be `You should go to\n\t * &lt;a href=\"http://www.yahoo.com\"&gt;http://www.yahoo.com&lt;/a&gt;`\n\t *\n\t * This method finds the text around any HTML elements in the input\n\t * `textOrHtml`, which will be the text that is processed. Any original HTML\n\t * elements will be left as-is, as well as the text that is already wrapped\n\t * in anchor (&lt;a&gt;) tags.\n\t *\n\t * @param {String} textOrHtml The HTML or text to autolink matches within\n\t *   (depending on if the {@link #urls}, {@link #email}, {@link #phone},\n\t *   {@link #twitter}, and {@link #hashtag} options are enabled).\n\t * @return {String} The HTML, with matches automatically linked.\n\t */\n\tlink : function( textOrHtml ) {\n\t\tif( !textOrHtml ) { return \"\"; }  // handle `null` and `undefined`\n\n\t\tvar htmlParser = this.getHtmlParser(),\n\t\t    htmlNodes = htmlParser.parse( textOrHtml ),\n\t\t    anchorTagStackCount = 0,  // used to only process text around anchor tags, and any inner text/html they may have\n\t\t    resultHtml = [];\n\n\t\tfor( var i = 0, len = htmlNodes.length; i < len; i++ ) {\n\t\t\tvar node = htmlNodes[ i ],\n\t\t\t    nodeType = node.getType(),\n\t\t\t    nodeText = node.getText();\n\n\t\t\tif( nodeType === 'element' ) {\n\t\t\t\t// Process HTML nodes in the input `textOrHtml`\n\t\t\t\tif( node.getTagName() === 'a' ) {\n\t\t\t\t\tif( !node.isClosing() ) {  // it's the start <a> tag\n\t\t\t\t\t\tanchorTagStackCount++;\n\t\t\t\t\t} else {   // it's the end </a> tag\n\t\t\t\t\t\tanchorTagStackCount = Math.max( anchorTagStackCount - 1, 0 );  // attempt to handle extraneous </a> tags by making sure the stack count never goes below 0\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tresultHtml.push( nodeText );  // now add the text of the tag itself verbatim\n\n\t\t\t} else if( nodeType === 'entity' || nodeType === 'comment' ) {\n\t\t\t\tresultHtml.push( nodeText );  // append HTML entity nodes (such as '&nbsp;') or HTML comments (such as '<!-- Comment -->') verbatim\n\n\t\t\t} else {\n\t\t\t\t// Process text nodes in the input `textOrHtml`\n\t\t\t\tif( anchorTagStackCount === 0 ) {\n\t\t\t\t\t// If we're not within an <a> tag, process the text node to linkify\n\t\t\t\t\tvar linkifiedStr = this.linkifyStr( nodeText );\n\t\t\t\t\tresultHtml.push( linkifiedStr );\n\n\t\t\t\t} else {\n\t\t\t\t\t// `text` is within an <a> tag, simply append the text - we do not want to autolink anything\n\t\t\t\t\t// already within an <a>...</a> tag\n\t\t\t\t\tresultHtml.push( nodeText );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn resultHtml.join( \"\" );\n\t},\n\n\t/**\n\t * Process the text that lies in between HTML tags, performing the anchor\n\t * tag replacements for the matches, and returns the string with the\n\t * replacements made.\n\t *\n\t * This method does the actual wrapping of matches with anchor tags.\n\t *\n\t * @private\n\t * @param {String} str The string of text to auto-link.\n\t * @return {String} The text with anchor tags auto-filled.\n\t */\n\tlinkifyStr : function( str ) {\n\t\treturn this.getMatchParser().replace( str, this.createMatchReturnVal, this );\n\t},\n\n\n\t/**\n\t * Creates the return string value for a given match in the input string,\n\t * for the {@link #linkifyStr} method.\n\t *\n\t * This method handles the {@link #replaceFn}, if one was provided.\n\t *\n\t * @private\n\t * @param {Autolinker.match.Match} match The Match object that represents the match.\n\t * @return {String} The string that the `match` should be replaced with. This is usually the anchor tag string, but\n\t *   may be the `matchStr` itself if the match is not to be replaced.\n\t */\n\tcreateMatchReturnVal : function( match ) {\n\t\t// Handle a custom `replaceFn` being provided\n\t\tvar replaceFnResult;\n\t\tif( this.replaceFn ) {\n\t\t\treplaceFnResult = this.replaceFn.call( this, this, match );  // Autolinker instance is the context, and the first arg\n\t\t}\n\n\t\tif( typeof replaceFnResult === 'string' ) {\n\t\t\treturn replaceFnResult;  // `replaceFn` returned a string, use that\n\n\t\t} else if( replaceFnResult === false ) {\n\t\t\treturn match.getMatchedText();  // no replacement for the match\n\n\t\t} else if( replaceFnResult instanceof Autolinker.HtmlTag ) {\n\t\t\treturn replaceFnResult.toAnchorString();\n\n\t\t} else {  // replaceFnResult === true, or no/unknown return value from function\n\t\t\t// Perform Autolinker's default anchor tag generation\n\t\t\tvar tagBuilder = this.getTagBuilder(),\n\t\t\t    anchorTag = tagBuilder.build( match );  // returns an Autolinker.HtmlTag instance\n\n\t\t\treturn anchorTag.toAnchorString();\n\t\t}\n\t},\n\n\n\t/**\n\t * Lazily instantiates and returns the {@link #htmlParser} instance for this Autolinker instance.\n\t *\n\t * @protected\n\t * @return {Autolinker.htmlParser.HtmlParser}\n\t */\n\tgetHtmlParser : function() {\n\t\tvar htmlParser = this.htmlParser;\n\n\t\tif( !htmlParser ) {\n\t\t\thtmlParser = this.htmlParser = new Autolinker.htmlParser.HtmlParser();\n\t\t}\n\n\t\treturn htmlParser;\n\t},\n\n\n\t/**\n\t * Lazily instantiates and returns the {@link #matchParser} instance for this Autolinker instance.\n\t *\n\t * @protected\n\t * @return {Autolinker.matchParser.MatchParser}\n\t */\n\tgetMatchParser : function() {\n\t\tvar matchParser = this.matchParser;\n\n\t\tif( !matchParser ) {\n\t\t\tmatchParser = this.matchParser = new Autolinker.matchParser.MatchParser( {\n\t\t\t\turls        : this.urls,\n\t\t\t\temail       : this.email,\n\t\t\t\ttwitter     : this.twitter,\n\t\t\t\tphone       : this.phone,\n\t\t\t\thashtag     : this.hashtag,\n\t\t\t\tstripPrefix : this.stripPrefix\n\t\t\t} );\n\t\t}\n\n\t\treturn matchParser;\n\t},\n\n\n\t/**\n\t * Returns the {@link #tagBuilder} instance for this Autolinker instance, lazily instantiating it\n\t * if it does not yet exist.\n\t *\n\t * This method may be used in a {@link #replaceFn} to generate the {@link Autolinker.HtmlTag HtmlTag} instance that\n\t * Autolinker would normally generate, and then allow for modifications before returning it. For example:\n\t *\n\t *     var html = Autolinker.link( \"Test google.com\", {\n\t *         replaceFn : function( autolinker, match ) {\n\t *             var tag = autolinker.getTagBuilder().build( match );  // returns an {@link Autolinker.HtmlTag} instance\n\t *             tag.setAttr( 'rel', 'nofollow' );\n\t *\n\t *             return tag;\n\t *         }\n\t *     } );\n\t *\n\t *     // generated html:\n\t *     //   Test <a href=\"http://google.com\" target=\"_blank\" rel=\"nofollow\">google.com</a>\n\t *\n\t * @return {Autolinker.AnchorTagBuilder}\n\t */\n\tgetTagBuilder : function() {\n\t\tvar tagBuilder = this.tagBuilder;\n\n\t\tif( !tagBuilder ) {\n\t\t\ttagBuilder = this.tagBuilder = new Autolinker.AnchorTagBuilder( {\n\t\t\t\tnewWindow   : this.newWindow,\n\t\t\t\ttruncate    : this.truncate,\n\t\t\t\tclassName   : this.className\n\t\t\t} );\n\t\t}\n\n\t\treturn tagBuilder;\n\t}\n\n};\n\n\n/**\n * Automatically links URLs, Email addresses, Phone Numbers, Twitter handles,\n * and Hashtags found in the given chunk of HTML. Does not link URLs found\n * within HTML tags.\n *\n * For instance, if given the text: `You should go to http://www.yahoo.com`,\n * then the result will be `You should go to &lt;a href=\"http://www.yahoo.com\"&gt;http://www.yahoo.com&lt;/a&gt;`\n *\n * Example:\n *\n *     var linkedText = Autolinker.link( \"Go to google.com\", { newWindow: false } );\n *     // Produces: \"Go to <a href=\"http://google.com\">google.com</a>\"\n *\n * @static\n * @param {String} textOrHtml The HTML or text to find matches within (depending\n *   on if the {@link #urls}, {@link #email}, {@link #phone}, {@link #twitter},\n *   and {@link #hashtag} options are enabled).\n * @param {Object} [options] Any of the configuration options for the Autolinker\n *   class, specified in an Object (map). See the class description for an\n *   example call.\n * @return {String} The HTML text, with matches automatically linked.\n */\nAutolinker.link = function( textOrHtml, options ) {\n\tvar autolinker = new Autolinker( options );\n\treturn autolinker.link( textOrHtml );\n};\n\n\n// Autolinker Namespaces\nAutolinker.match = {};\nAutolinker.htmlParser = {};\nAutolinker.matchParser = {};\n\n/*global Autolinker */\n/*jshint eqnull:true, boss:true */\n/**\n * @class Autolinker.Util\n * @singleton\n *\n * A few utility methods for Autolinker.\n */\nAutolinker.Util = {\n\n\t/**\n\t * @property {Function} abstractMethod\n\t *\n\t * A function object which represents an abstract method.\n\t */\n\tabstractMethod : function() { throw \"abstract\"; },\n\n\n\t/**\n\t * @private\n\t * @property {RegExp} trimRegex\n\t *\n\t * The regular expression used to trim the leading and trailing whitespace\n\t * from a string.\n\t */\n\ttrimRegex : /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n\n\t/**\n\t * Assigns (shallow copies) the properties of `src` onto `dest`.\n\t *\n\t * @param {Object} dest The destination object.\n\t * @param {Object} src The source object.\n\t * @return {Object} The destination object (`dest`)\n\t */\n\tassign : function( dest, src ) {\n\t\tfor( var prop in src ) {\n\t\t\tif( src.hasOwnProperty( prop ) ) {\n\t\t\t\tdest[ prop ] = src[ prop ];\n\t\t\t}\n\t\t}\n\n\t\treturn dest;\n\t},\n\n\n\t/**\n\t * Extends `superclass` to create a new subclass, adding the `protoProps` to the new subclass's prototype.\n\t *\n\t * @param {Function} superclass The constructor function for the superclass.\n\t * @param {Object} protoProps The methods/properties to add to the subclass's prototype. This may contain the\n\t *   special property `constructor`, which will be used as the new subclass's constructor function.\n\t * @return {Function} The new subclass function.\n\t */\n\textend : function( superclass, protoProps ) {\n\t\tvar superclassProto = superclass.prototype;\n\n\t\tvar F = function() {};\n\t\tF.prototype = superclassProto;\n\n\t\tvar subclass;\n\t\tif( protoProps.hasOwnProperty( 'constructor' ) ) {\n\t\t\tsubclass = protoProps.constructor;\n\t\t} else {\n\t\t\tsubclass = function() { superclassProto.constructor.apply( this, arguments ); };\n\t\t}\n\n\t\tvar subclassProto = subclass.prototype = new F();  // set up prototype chain\n\t\tsubclassProto.constructor = subclass;  // fix constructor property\n\t\tsubclassProto.superclass = superclassProto;\n\n\t\tdelete protoProps.constructor;  // don't re-assign constructor property to the prototype, since a new function may have been created (`subclass`), which is now already there\n\t\tAutolinker.Util.assign( subclassProto, protoProps );\n\n\t\treturn subclass;\n\t},\n\n\n\t/**\n\t * Truncates the `str` at `len - ellipsisChars.length`, and adds the `ellipsisChars` to the\n\t * end of the string (by default, two periods: '..'). If the `str` length does not exceed\n\t * `len`, the string will be returned unchanged.\n\t *\n\t * @param {String} str The string to truncate and add an ellipsis to.\n\t * @param {Number} truncateLen The length to truncate the string at.\n\t * @param {String} [ellipsisChars=..] The ellipsis character(s) to add to the end of `str`\n\t *   when truncated. Defaults to '..'\n\t */\n\tellipsis : function( str, truncateLen, ellipsisChars ) {\n\t\tif( str.length > truncateLen ) {\n\t\t\tellipsisChars = ( ellipsisChars == null ) ? '..' : ellipsisChars;\n\t\t\tstr = str.substring( 0, truncateLen - ellipsisChars.length ) + ellipsisChars;\n\t\t}\n\t\treturn str;\n\t},\n\n\n\t/**\n\t * Supports `Array.prototype.indexOf()` functionality for old IE (IE8 and below).\n\t *\n\t * @param {Array} arr The array to find an element of.\n\t * @param {*} element The element to find in the array, and return the index of.\n\t * @return {Number} The index of the `element`, or -1 if it was not found.\n\t */\n\tindexOf : function( arr, element ) {\n\t\tif( Array.prototype.indexOf ) {\n\t\t\treturn arr.indexOf( element );\n\n\t\t} else {\n\t\t\tfor( var i = 0, len = arr.length; i < len; i++ ) {\n\t\t\t\tif( arr[ i ] === element ) return i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\t},\n\n\n\n\t/**\n\t * Performs the functionality of what modern browsers do when `String.prototype.split()` is called\n\t * with a regular expression that contains capturing parenthesis.\n\t *\n\t * For example:\n\t *\n\t *     // Modern browsers:\n\t *     \"a,b,c\".split( /(,)/ );  // --> [ 'a', ',', 'b', ',', 'c' ]\n\t *\n\t *     // Old IE (including IE8):\n\t *     \"a,b,c\".split( /(,)/ );  // --> [ 'a', 'b', 'c' ]\n\t *\n\t * This method emulates the functionality of modern browsers for the old IE case.\n\t *\n\t * @param {String} str The string to split.\n\t * @param {RegExp} splitRegex The regular expression to split the input `str` on. The splitting\n\t *   character(s) will be spliced into the array, as in the \"modern browsers\" example in the\n\t *   description of this method.\n\t *   Note #1: the supplied regular expression **must** have the 'g' flag specified.\n\t *   Note #2: for simplicity's sake, the regular expression does not need\n\t *   to contain capturing parenthesis - it will be assumed that any match has them.\n\t * @return {String[]} The split array of strings, with the splitting character(s) included.\n\t */\n\tsplitAndCapture : function( str, splitRegex ) {\n\t\tif( !splitRegex.global ) throw new Error( \"`splitRegex` must have the 'g' flag set\" );\n\n\t\tvar result = [],\n\t\t    lastIdx = 0,\n\t\t    match;\n\n\t\twhile( match = splitRegex.exec( str ) ) {\n\t\t\tresult.push( str.substring( lastIdx, match.index ) );\n\t\t\tresult.push( match[ 0 ] );  // push the splitting char(s)\n\n\t\t\tlastIdx = match.index + match[ 0 ].length;\n\t\t}\n\t\tresult.push( str.substring( lastIdx ) );\n\n\t\treturn result;\n\t},\n\n\n\t/**\n\t * Trims the leading and trailing whitespace from a string.\n\t *\n\t * @param {String} str The string to trim.\n\t * @return {String}\n\t */\n\ttrim : function( str ) {\n\t\treturn str.replace( this.trimRegex, '' );\n\t}\n\n};\n/*global Autolinker */\n/*jshint boss:true */\n/**\n * @class Autolinker.HtmlTag\n * @extends Object\n *\n * Represents an HTML tag, which can be used to easily build/modify HTML tags programmatically.\n *\n * Autolinker uses this abstraction to create HTML tags, and then write them out as strings. You may also use\n * this class in your code, especially within a {@link Autolinker#replaceFn replaceFn}.\n *\n * ## Examples\n *\n * Example instantiation:\n *\n *     var tag = new Autolinker.HtmlTag( {\n *         tagName : 'a',\n *         attrs   : { 'href': 'http://google.com', 'class': 'external-link' },\n *         innerHtml : 'Google'\n *     } );\n *\n *     tag.toAnchorString();  // <a href=\"http://google.com\" class=\"external-link\">Google</a>\n *\n *     // Individual accessor methods\n *     tag.getTagName();                 // 'a'\n *     tag.getAttr( 'href' );            // 'http://google.com'\n *     tag.hasClass( 'external-link' );  // true\n *\n *\n * Using mutator methods (which may be used in combination with instantiation config properties):\n *\n *     var tag = new Autolinker.HtmlTag();\n *     tag.setTagName( 'a' );\n *     tag.setAttr( 'href', 'http://google.com' );\n *     tag.addClass( 'external-link' );\n *     tag.setInnerHtml( 'Google' );\n *\n *     tag.getTagName();                 // 'a'\n *     tag.getAttr( 'href' );            // 'http://google.com'\n *     tag.hasClass( 'external-link' );  // true\n *\n *     tag.toAnchorString();  // <a href=\"http://google.com\" class=\"external-link\">Google</a>\n *\n *\n * ## Example use within a {@link Autolinker#replaceFn replaceFn}\n *\n *     var html = Autolinker.link( \"Test google.com\", {\n *         replaceFn : function( autolinker, match ) {\n *             var tag = autolinker.getTagBuilder().build( match );  // returns an {@link Autolinker.HtmlTag} instance, configured with the Match's href and anchor text\n *             tag.setAttr( 'rel', 'nofollow' );\n *\n *             return tag;\n *         }\n *     } );\n *\n *     // generated html:\n *     //   Test <a href=\"http://google.com\" target=\"_blank\" rel=\"nofollow\">google.com</a>\n *\n *\n * ## Example use with a new tag for the replacement\n *\n *     var html = Autolinker.link( \"Test google.com\", {\n *         replaceFn : function( autolinker, match ) {\n *             var tag = new Autolinker.HtmlTag( {\n *                 tagName : 'button',\n *                 attrs   : { 'title': 'Load URL: ' + match.getAnchorHref() },\n *                 innerHtml : 'Load URL: ' + match.getAnchorText()\n *             } );\n *\n *             return tag;\n *         }\n *     } );\n *\n *     // generated html:\n *     //   Test <button title=\"Load URL: http://google.com\">Load URL: google.com</button>\n */\nAutolinker.HtmlTag = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {String} tagName\n\t *\n\t * The tag name. Ex: 'a', 'button', etc.\n\t *\n\t * Not required at instantiation time, but should be set using {@link #setTagName} before {@link #toAnchorString}\n\t * is executed.\n\t */\n\n\t/**\n\t * @cfg {Object.<String, String>} attrs\n\t *\n\t * An key/value Object (map) of attributes to create the tag with. The keys are the attribute names, and the\n\t * values are the attribute values.\n\t */\n\n\t/**\n\t * @cfg {String} innerHtml\n\t *\n\t * The inner HTML for the tag.\n\t *\n\t * Note the camel case name on `innerHtml`. Acronyms are camelCased in this utility (such as not to run into the acronym\n\t * naming inconsistency that the DOM developers created with `XMLHttpRequest`). You may alternatively use {@link #innerHTML}\n\t * if you prefer, but this one is recommended.\n\t */\n\n\t/**\n\t * @cfg {String} innerHTML\n\t *\n\t * Alias of {@link #innerHtml}, accepted for consistency with the browser DOM api, but prefer the camelCased version\n\t * for acronym names.\n\t */\n\n\n\t/**\n\t * @protected\n\t * @property {RegExp} whitespaceRegex\n\t *\n\t * Regular expression used to match whitespace in a string of CSS classes.\n\t */\n\twhitespaceRegex : /\\s+/,\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} [cfg] The configuration properties for this class, in an Object (map)\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.Util.assign( this, cfg );\n\n\t\tthis.innerHtml = this.innerHtml || this.innerHTML;  // accept either the camelCased form or the fully capitalized acronym\n\t},\n\n\n\t/**\n\t * Sets the tag name that will be used to generate the tag with.\n\t *\n\t * @param {String} tagName\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetTagName : function( tagName ) {\n\t\tthis.tagName = tagName;\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Retrieves the tag name.\n\t *\n\t * @return {String}\n\t */\n\tgetTagName : function() {\n\t\treturn this.tagName || \"\";\n\t},\n\n\n\t/**\n\t * Sets an attribute on the HtmlTag.\n\t *\n\t * @param {String} attrName The attribute name to set.\n\t * @param {String} attrValue The attribute value to set.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetAttr : function( attrName, attrValue ) {\n\t\tvar tagAttrs = this.getAttrs();\n\t\ttagAttrs[ attrName ] = attrValue;\n\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Retrieves an attribute from the HtmlTag. If the attribute does not exist, returns `undefined`.\n\t *\n\t * @param {String} name The attribute name to retrieve.\n\t * @return {String} The attribute's value, or `undefined` if it does not exist on the HtmlTag.\n\t */\n\tgetAttr : function( attrName ) {\n\t\treturn this.getAttrs()[ attrName ];\n\t},\n\n\n\t/**\n\t * Sets one or more attributes on the HtmlTag.\n\t *\n\t * @param {Object.<String, String>} attrs A key/value Object (map) of the attributes to set.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetAttrs : function( attrs ) {\n\t\tvar tagAttrs = this.getAttrs();\n\t\tAutolinker.Util.assign( tagAttrs, attrs );\n\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Retrieves the attributes Object (map) for the HtmlTag.\n\t *\n\t * @return {Object.<String, String>} A key/value object of the attributes for the HtmlTag.\n\t */\n\tgetAttrs : function() {\n\t\treturn this.attrs || ( this.attrs = {} );\n\t},\n\n\n\t/**\n\t * Sets the provided `cssClass`, overwriting any current CSS classes on the HtmlTag.\n\t *\n\t * @param {String} cssClass One or more space-separated CSS classes to set (overwrite).\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetClass : function( cssClass ) {\n\t\treturn this.setAttr( 'class', cssClass );\n\t},\n\n\n\t/**\n\t * Convenience method to add one or more CSS classes to the HtmlTag. Will not add duplicate CSS classes.\n\t *\n\t * @param {String} cssClass One or more space-separated CSS classes to add.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\taddClass : function( cssClass ) {\n\t\tvar classAttr = this.getClass(),\n\t\t    whitespaceRegex = this.whitespaceRegex,\n\t\t    indexOf = Autolinker.Util.indexOf,  // to support IE8 and below\n\t\t    classes = ( !classAttr ) ? [] : classAttr.split( whitespaceRegex ),\n\t\t    newClasses = cssClass.split( whitespaceRegex ),\n\t\t    newClass;\n\n\t\twhile( newClass = newClasses.shift() ) {\n\t\t\tif( indexOf( classes, newClass ) === -1 ) {\n\t\t\t\tclasses.push( newClass );\n\t\t\t}\n\t\t}\n\n\t\tthis.getAttrs()[ 'class' ] = classes.join( \" \" );\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Convenience method to remove one or more CSS classes from the HtmlTag.\n\t *\n\t * @param {String} cssClass One or more space-separated CSS classes to remove.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tremoveClass : function( cssClass ) {\n\t\tvar classAttr = this.getClass(),\n\t\t    whitespaceRegex = this.whitespaceRegex,\n\t\t    indexOf = Autolinker.Util.indexOf,  // to support IE8 and below\n\t\t    classes = ( !classAttr ) ? [] : classAttr.split( whitespaceRegex ),\n\t\t    removeClasses = cssClass.split( whitespaceRegex ),\n\t\t    removeClass;\n\n\t\twhile( classes.length && ( removeClass = removeClasses.shift() ) ) {\n\t\t\tvar idx = indexOf( classes, removeClass );\n\t\t\tif( idx !== -1 ) {\n\t\t\t\tclasses.splice( idx, 1 );\n\t\t\t}\n\t\t}\n\n\t\tthis.getAttrs()[ 'class' ] = classes.join( \" \" );\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Convenience method to retrieve the CSS class(es) for the HtmlTag, which will each be separated by spaces when\n\t * there are multiple.\n\t *\n\t * @return {String}\n\t */\n\tgetClass : function() {\n\t\treturn this.getAttrs()[ 'class' ] || \"\";\n\t},\n\n\n\t/**\n\t * Convenience method to check if the tag has a CSS class or not.\n\t *\n\t * @param {String} cssClass The CSS class to check for.\n\t * @return {Boolean} `true` if the HtmlTag has the CSS class, `false` otherwise.\n\t */\n\thasClass : function( cssClass ) {\n\t\treturn ( ' ' + this.getClass() + ' ' ).indexOf( ' ' + cssClass + ' ' ) !== -1;\n\t},\n\n\n\t/**\n\t * Sets the inner HTML for the tag.\n\t *\n\t * @param {String} html The inner HTML to set.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetInnerHtml : function( html ) {\n\t\tthis.innerHtml = html;\n\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Retrieves the inner HTML for the tag.\n\t *\n\t * @return {String}\n\t */\n\tgetInnerHtml : function() {\n\t\treturn this.innerHtml || \"\";\n\t},\n\n\n\t/**\n\t * Override of superclass method used to generate the HTML string for the tag.\n\t *\n\t * @return {String}\n\t */\n\ttoAnchorString : function() {\n\t\tvar tagName = this.getTagName(),\n\t\t    attrsStr = this.buildAttrsStr();\n\n\t\tattrsStr = ( attrsStr ) ? ' ' + attrsStr : '';  // prepend a space if there are actually attributes\n\n\t\treturn [ '<', tagName, attrsStr, '>', this.getInnerHtml(), '</', tagName, '>' ].join( \"\" );\n\t},\n\n\n\t/**\n\t * Support method for {@link #toAnchorString}, returns the string space-separated key=\"value\" pairs, used to populate\n\t * the stringified HtmlTag.\n\t *\n\t * @protected\n\t * @return {String} Example return: `attr1=\"value1\" attr2=\"value2\"`\n\t */\n\tbuildAttrsStr : function() {\n\t\tif( !this.attrs ) return \"\";  // no `attrs` Object (map) has been set, return empty string\n\n\t\tvar attrs = this.getAttrs(),\n\t\t    attrsArr = [];\n\n\t\tfor( var prop in attrs ) {\n\t\t\tif( attrs.hasOwnProperty( prop ) ) {\n\t\t\t\tattrsArr.push( prop + '=\"' + attrs[ prop ] + '\"' );\n\t\t\t}\n\t\t}\n\t\treturn attrsArr.join( \" \" );\n\t}\n\n} );\n\n/*global Autolinker */\n/*jshint sub:true */\n/**\n * @protected\n * @class Autolinker.AnchorTagBuilder\n * @extends Object\n *\n * Builds anchor (&lt;a&gt;) tags for the Autolinker utility when a match is found.\n *\n * Normally this class is instantiated, configured, and used internally by an {@link Autolinker} instance, but may\n * actually be retrieved in a {@link Autolinker#replaceFn replaceFn} to create {@link Autolinker.HtmlTag HtmlTag} instances\n * which may be modified before returning from the {@link Autolinker#replaceFn replaceFn}. For example:\n *\n *     var html = Autolinker.link( \"Test google.com\", {\n *         replaceFn : function( autolinker, match ) {\n *             var tag = autolinker.getTagBuilder().build( match );  // returns an {@link Autolinker.HtmlTag} instance\n *             tag.setAttr( 'rel', 'nofollow' );\n *\n *             return tag;\n *         }\n *     } );\n *\n *     // generated html:\n *     //   Test <a href=\"http://google.com\" target=\"_blank\" rel=\"nofollow\">google.com</a>\n */\nAutolinker.AnchorTagBuilder = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {Boolean} newWindow\n\t * @inheritdoc Autolinker#newWindow\n\t */\n\n\t/**\n\t * @cfg {Number} truncate\n\t * @inheritdoc Autolinker#truncate\n\t */\n\n\t/**\n\t * @cfg {String} className\n\t * @inheritdoc Autolinker#className\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} [cfg] The configuration options for the AnchorTagBuilder instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.Util.assign( this, cfg );\n\t},\n\n\n\t/**\n\t * Generates the actual anchor (&lt;a&gt;) tag to use in place of the\n\t * matched text, via its `match` object.\n\t *\n\t * @param {Autolinker.match.Match} match The Match instance to generate an\n\t *   anchor tag from.\n\t * @return {Autolinker.HtmlTag} The HtmlTag instance for the anchor tag.\n\t */\n\tbuild : function( match ) {\n\t\tvar tag = new Autolinker.HtmlTag( {\n\t\t\ttagName   : 'a',\n\t\t\tattrs     : this.createAttrs( match.getType(), match.getAnchorHref() ),\n\t\t\tinnerHtml : this.processAnchorText( match.getAnchorText() )\n\t\t} );\n\n\t\treturn tag;\n\t},\n\n\n\t/**\n\t * Creates the Object (map) of the HTML attributes for the anchor (&lt;a&gt;)\n\t *   tag being generated.\n\t *\n\t * @protected\n\t * @param {\"url\"/\"email\"/\"phone\"/\"twitter\"/\"hashtag\"} matchType The type of\n\t *   match that an anchor tag is being generated for.\n\t * @param {String} href The href for the anchor tag.\n\t * @return {Object} A key/value Object (map) of the anchor tag's attributes.\n\t */\n\tcreateAttrs : function( matchType, anchorHref ) {\n\t\tvar attrs = {\n\t\t\t'href' : anchorHref  // we'll always have the `href` attribute\n\t\t};\n\n\t\tvar cssClass = this.createCssClass( matchType );\n\t\tif( cssClass ) {\n\t\t\tattrs[ 'class' ] = cssClass;\n\t\t}\n\t\tif( this.newWindow ) {\n\t\t\tattrs[ 'target' ] = \"_blank\";\n\t\t}\n\n\t\treturn attrs;\n\t},\n\n\n\t/**\n\t * Creates the CSS class that will be used for a given anchor tag, based on\n\t * the `matchType` and the {@link #className} config.\n\t *\n\t * @private\n\t * @param {\"url\"/\"email\"/\"phone\"/\"twitter\"/\"hashtag\"} matchType The type of\n\t *   match that an anchor tag is being generated for.\n\t * @return {String} The CSS class string for the link. Example return:\n\t *   \"myLink myLink-url\". If no {@link #className} was configured, returns\n\t *   an empty string.\n\t */\n\tcreateCssClass : function( matchType ) {\n\t\tvar className = this.className;\n\n\t\tif( !className )\n\t\t\treturn \"\";\n\t\telse\n\t\t\treturn className + \" \" + className + \"-\" + matchType;  // ex: \"myLink myLink-url\", \"myLink myLink-email\", \"myLink myLink-phone\", \"myLink myLink-twitter\", or \"myLink myLink-hashtag\"\n\t},\n\n\n\t/**\n\t * Processes the `anchorText` by truncating the text according to the\n\t * {@link #truncate} config.\n\t *\n\t * @private\n\t * @param {String} anchorText The anchor tag's text (i.e. what will be\n\t *   displayed).\n\t * @return {String} The processed `anchorText`.\n\t */\n\tprocessAnchorText : function( anchorText ) {\n\t\tanchorText = this.doTruncate( anchorText );\n\n\t\treturn anchorText;\n\t},\n\n\n\t/**\n\t * Performs the truncation of the `anchorText`, if the `anchorText` is\n\t * longer than the {@link #truncate} option. Truncates the text to 2\n\t * characters fewer than the {@link #truncate} option, and adds \"..\" to the\n\t * end.\n\t *\n\t * @private\n\t * @param {String} text The anchor tag's text (i.e. what will be displayed).\n\t * @return {String} The truncated anchor text.\n\t */\n\tdoTruncate : function( anchorText ) {\n\t\treturn Autolinker.Util.ellipsis( anchorText, this.truncate || Number.POSITIVE_INFINITY );\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @private\n * @class Autolinker.htmlParser.HtmlParser\n * @extends Object\n *\n * An HTML parser implementation which simply walks an HTML string and returns an array of\n * {@link Autolinker.htmlParser.HtmlNode HtmlNodes} that represent the basic HTML structure of the input string.\n *\n * Autolinker uses this to only link URLs/emails/Twitter handles within text nodes, effectively ignoring / \"walking\n * around\" HTML tags.\n */\nAutolinker.htmlParser.HtmlParser = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @private\n\t * @property {RegExp} htmlRegex\n\t *\n\t * The regular expression used to pull out HTML tags from a string. Handles namespaced HTML tags and\n\t * attribute names, as specified by http://www.w3.org/TR/html-markup/syntax.html.\n\t *\n\t * Capturing groups:\n\t *\n\t * 1. The \"!DOCTYPE\" tag name, if a tag is a &lt;!DOCTYPE&gt; tag.\n\t * 2. If it is an end tag, this group will have the '/'.\n\t * 3. If it is a comment tag, this group will hold the comment text (i.e.\n\t *    the text inside the `&lt;!--` and `--&gt;`.\n\t * 4. The tag name for all tags (other than the &lt;!DOCTYPE&gt; tag)\n\t */\n\thtmlRegex : (function() {\n\t\tvar commentTagRegex = /!--([\\s\\S]+?)--/,\n\t\t    tagNameRegex = /[0-9a-zA-Z][0-9a-zA-Z:]*/,\n\t\t    attrNameRegex = /[^\\s\\0\"'>\\/=\\x01-\\x1F\\x7F]+/,   // the unicode range accounts for excluding control chars, and the delete char\n\t\t    attrValueRegex = /(?:\"[^\"]*?\"|'[^']*?'|[^'\"=<>`\\s]+)/, // double quoted, single quoted, or unquoted attribute values\n\t\t    nameEqualsValueRegex = attrNameRegex.source + '(?:\\\\s*=\\\\s*' + attrValueRegex.source + ')?';  // optional '=[value]'\n\n\t\treturn new RegExp( [\n\t\t\t// for <!DOCTYPE> tag. Ex: <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">)\n\t\t\t'(?:',\n\t\t\t\t'<(!DOCTYPE)',  // *** Capturing Group 1 - If it's a doctype tag\n\n\t\t\t\t\t// Zero or more attributes following the tag name\n\t\t\t\t\t'(?:',\n\t\t\t\t\t\t'\\\\s+',  // one or more whitespace chars before an attribute\n\n\t\t\t\t\t\t// Either:\n\t\t\t\t\t\t// A. attr=\"value\", or\n\t\t\t\t\t\t// B. \"value\" alone (To cover example doctype tag: <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">)\n\t\t\t\t\t\t'(?:', nameEqualsValueRegex, '|', attrValueRegex.source + ')',\n\t\t\t\t\t')*',\n\t\t\t\t'>',\n\t\t\t')',\n\n\t\t\t'|',\n\n\t\t\t// All other HTML tags (i.e. tags that are not <!DOCTYPE>)\n\t\t\t'(?:',\n\t\t\t\t'<(/)?',  // Beginning of a tag or comment. Either '<' for a start tag, or '</' for an end tag.\n\t\t\t\t          // *** Capturing Group 2: The slash or an empty string. Slash ('/') for end tag, empty string for start or self-closing tag.\n\n\t\t\t\t\t'(?:',\n\t\t\t\t\t\tcommentTagRegex.source,  // *** Capturing Group 3 - A Comment Tag's Text\n\n\t\t\t\t\t\t'|',\n\n\t\t\t\t\t\t'(?:',\n\n\t\t\t\t\t\t\t// *** Capturing Group 4 - The tag name\n\t\t\t\t\t\t\t'(' + tagNameRegex.source + ')',\n\n\t\t\t\t\t\t\t// Zero or more attributes following the tag name\n\t\t\t\t\t\t\t'(?:',\n\t\t\t\t\t\t\t\t'\\\\s+',                // one or more whitespace chars before an attribute\n\t\t\t\t\t\t\t\tnameEqualsValueRegex,  // attr=\"value\" (with optional =\"value\" part)\n\t\t\t\t\t\t\t')*',\n\n\t\t\t\t\t\t\t'\\\\s*/?',  // any trailing spaces and optional '/' before the closing '>'\n\n\t\t\t\t\t\t')',\n\t\t\t\t\t')',\n\t\t\t\t'>',\n\t\t\t')'\n\t\t].join( \"\" ), 'gi' );\n\t} )(),\n\n\t/**\n\t * @private\n\t * @property {RegExp} htmlCharacterEntitiesRegex\n\t *\n\t * The regular expression that matches common HTML character entities.\n\t *\n\t * Ignoring &amp; as it could be part of a query string -- handling it separately.\n\t */\n\thtmlCharacterEntitiesRegex: /(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,\n\n\n\t/**\n\t * Parses an HTML string and returns a simple array of {@link Autolinker.htmlParser.HtmlNode HtmlNodes}\n\t * to represent the HTML structure of the input string.\n\t *\n\t * @param {String} html The HTML to parse.\n\t * @return {Autolinker.htmlParser.HtmlNode[]}\n\t */\n\tparse : function( html ) {\n\t\tvar htmlRegex = this.htmlRegex,\n\t\t    currentResult,\n\t\t    lastIndex = 0,\n\t\t    textAndEntityNodes,\n\t\t    nodes = [];  // will be the result of the method\n\n\t\twhile( ( currentResult = htmlRegex.exec( html ) ) !== null ) {\n\t\t\tvar tagText = currentResult[ 0 ],\n\t\t\t    commentText = currentResult[ 3 ], // if we've matched a comment\n\t\t\t    tagName = currentResult[ 1 ] || currentResult[ 4 ],  // The <!DOCTYPE> tag (ex: \"!DOCTYPE\"), or another tag (ex: \"a\" or \"img\")\n\t\t\t    isClosingTag = !!currentResult[ 2 ],\n\t\t\t    inBetweenTagsText = html.substring( lastIndex, currentResult.index );\n\n\t\t\t// Push TextNodes and EntityNodes for any text found between tags\n\t\t\tif( inBetweenTagsText ) {\n\t\t\t\ttextAndEntityNodes = this.parseTextAndEntityNodes( inBetweenTagsText );\n\t\t\t\tnodes.push.apply( nodes, textAndEntityNodes );\n\t\t\t}\n\n\t\t\t// Push the CommentNode or ElementNode\n\t\t\tif( commentText ) {\n\t\t\t\tnodes.push( this.createCommentNode( tagText, commentText ) );\n\t\t\t} else {\n\t\t\t\tnodes.push( this.createElementNode( tagText, tagName, isClosingTag ) );\n\t\t\t}\n\n\t\t\tlastIndex = currentResult.index + tagText.length;\n\t\t}\n\n\t\t// Process any remaining text after the last HTML element. Will process all of the text if there were no HTML elements.\n\t\tif( lastIndex < html.length ) {\n\t\t\tvar text = html.substring( lastIndex );\n\n\t\t\t// Push TextNodes and EntityNodes for any text found between tags\n\t\t\tif( text ) {\n\t\t\t\ttextAndEntityNodes = this.parseTextAndEntityNodes( text );\n\t\t\t\tnodes.push.apply( nodes, textAndEntityNodes );\n\t\t\t}\n\t\t}\n\n\t\treturn nodes;\n\t},\n\n\n\t/**\n\t * Parses text and HTML entity nodes from a given string. The input string\n\t * should not have any HTML tags (elements) within it.\n\t *\n\t * @private\n\t * @param {String} text The text to parse.\n\t * @return {Autolinker.htmlParser.HtmlNode[]} An array of HtmlNodes to\n\t *   represent the {@link Autolinker.htmlParser.TextNode TextNodes} and\n\t *   {@link Autolinker.htmlParser.EntityNode EntityNodes} found.\n\t */\n\tparseTextAndEntityNodes : function( text ) {\n\t\tvar nodes = [],\n\t\t    textAndEntityTokens = Autolinker.Util.splitAndCapture( text, this.htmlCharacterEntitiesRegex );  // split at HTML entities, but include the HTML entities in the results array\n\n\t\t// Every even numbered token is a TextNode, and every odd numbered token is an EntityNode\n\t\t// For example: an input `text` of \"Test &quot;this&quot; today\" would turn into the\n\t\t//   `textAndEntityTokens`: [ 'Test ', '&quot;', 'this', '&quot;', ' today' ]\n\t\tfor( var i = 0, len = textAndEntityTokens.length; i < len; i += 2 ) {\n\t\t\tvar textToken = textAndEntityTokens[ i ],\n\t\t\t    entityToken = textAndEntityTokens[ i + 1 ];\n\n\t\t\tif( textToken ) nodes.push( this.createTextNode( textToken ) );\n\t\t\tif( entityToken ) nodes.push( this.createEntityNode( entityToken ) );\n\t\t}\n\t\treturn nodes;\n\t},\n\n\n\t/**\n\t * Factory method to create an {@link Autolinker.htmlParser.CommentNode CommentNode}.\n\t *\n\t * @private\n\t * @param {String} tagText The full text of the tag (comment) that was\n\t *   matched, including its &lt;!-- and --&gt;.\n\t * @param {String} comment The full text of the comment that was matched.\n\t */\n\tcreateCommentNode : function( tagText, commentText ) {\n\t\treturn new Autolinker.htmlParser.CommentNode( {\n\t\t\ttext: tagText,\n\t\t\tcomment: Autolinker.Util.trim( commentText )\n\t\t} );\n\t},\n\n\n\t/**\n\t * Factory method to create an {@link Autolinker.htmlParser.ElementNode ElementNode}.\n\t *\n\t * @private\n\t * @param {String} tagText The full text of the tag (element) that was\n\t *   matched, including its attributes.\n\t * @param {String} tagName The name of the tag. Ex: An &lt;img&gt; tag would\n\t *   be passed to this method as \"img\".\n\t * @param {Boolean} isClosingTag `true` if it's a closing tag, false\n\t *   otherwise.\n\t * @return {Autolinker.htmlParser.ElementNode}\n\t */\n\tcreateElementNode : function( tagText, tagName, isClosingTag ) {\n\t\treturn new Autolinker.htmlParser.ElementNode( {\n\t\t\ttext    : tagText,\n\t\t\ttagName : tagName.toLowerCase(),\n\t\t\tclosing : isClosingTag\n\t\t} );\n\t},\n\n\n\t/**\n\t * Factory method to create a {@link Autolinker.htmlParser.EntityNode EntityNode}.\n\t *\n\t * @private\n\t * @param {String} text The text that was matched for the HTML entity (such\n\t *   as '&amp;nbsp;').\n\t * @return {Autolinker.htmlParser.EntityNode}\n\t */\n\tcreateEntityNode : function( text ) {\n\t\treturn new Autolinker.htmlParser.EntityNode( { text: text } );\n\t},\n\n\n\t/**\n\t * Factory method to create a {@link Autolinker.htmlParser.TextNode TextNode}.\n\t *\n\t * @private\n\t * @param {String} text The text that was matched.\n\t * @return {Autolinker.htmlParser.TextNode}\n\t */\n\tcreateTextNode : function( text ) {\n\t\treturn new Autolinker.htmlParser.TextNode( { text: text } );\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @abstract\n * @class Autolinker.htmlParser.HtmlNode\n *\n * Represents an HTML node found in an input string. An HTML node is one of the\n * following:\n *\n * 1. An {@link Autolinker.htmlParser.ElementNode ElementNode}, which represents\n *    HTML tags.\n * 2. A {@link Autolinker.htmlParser.CommentNode CommentNode}, which represents\n *    HTML comments.\n * 3. A {@link Autolinker.htmlParser.TextNode TextNode}, which represents text\n *    outside or within HTML tags.\n * 4. A {@link Autolinker.htmlParser.EntityNode EntityNode}, which represents\n *    one of the known HTML entities that Autolinker looks for. This includes\n *    common ones such as &amp;quot; and &amp;nbsp;\n */\nAutolinker.htmlParser.HtmlNode = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {String} text (required)\n\t *\n\t * The original text that was matched for the HtmlNode.\n\t *\n\t * - In the case of an {@link Autolinker.htmlParser.ElementNode ElementNode},\n\t *   this will be the tag's text.\n\t * - In the case of an {@link Autolinker.htmlParser.CommentNode CommentNode},\n\t *   this will be the comment's text.\n\t * - In the case of a {@link Autolinker.htmlParser.TextNode TextNode}, this\n\t *   will be the text itself.\n\t * - In the case of a {@link Autolinker.htmlParser.EntityNode EntityNode},\n\t *   this will be the text of the HTML entity.\n\t */\n\ttext : \"\",\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match instance,\n\t * specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.Util.assign( this, cfg );\n\t},\n\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @abstract\n\t * @return {String}\n\t */\n\tgetType : Autolinker.Util.abstractMethod,\n\n\n\t/**\n\t * Retrieves the {@link #text} for the HtmlNode.\n\t *\n\t * @return {String}\n\t */\n\tgetText : function() {\n\t\treturn this.text;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.CommentNode\n * @extends Autolinker.htmlParser.HtmlNode\n *\n * Represents an HTML comment node that has been parsed by the\n * {@link Autolinker.htmlParser.HtmlParser}.\n *\n * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more\n * details.\n */\nAutolinker.htmlParser.CommentNode = Autolinker.Util.extend( Autolinker.htmlParser.HtmlNode, {\n\n\t/**\n\t * @cfg {String} comment (required)\n\t *\n\t * The text inside the comment tag. This text is stripped of any leading or\n\t * trailing whitespace.\n\t */\n\tcomment : '',\n\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'comment';\n\t},\n\n\n\t/**\n\t * Returns the comment inside the comment tag.\n\t *\n\t * @return {String}\n\t */\n\tgetComment : function() {\n\t\treturn this.comment;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.ElementNode\n * @extends Autolinker.htmlParser.HtmlNode\n *\n * Represents an HTML element node that has been parsed by the {@link Autolinker.htmlParser.HtmlParser}.\n *\n * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more\n * details.\n */\nAutolinker.htmlParser.ElementNode = Autolinker.Util.extend( Autolinker.htmlParser.HtmlNode, {\n\n\t/**\n\t * @cfg {String} tagName (required)\n\t *\n\t * The name of the tag that was matched.\n\t */\n\ttagName : '',\n\n\t/**\n\t * @cfg {Boolean} closing (required)\n\t *\n\t * `true` if the element (tag) is a closing tag, `false` if its an opening\n\t * tag.\n\t */\n\tclosing : false,\n\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'element';\n\t},\n\n\n\t/**\n\t * Returns the HTML element's (tag's) name. Ex: for an &lt;img&gt; tag,\n\t * returns \"img\".\n\t *\n\t * @return {String}\n\t */\n\tgetTagName : function() {\n\t\treturn this.tagName;\n\t},\n\n\n\t/**\n\t * Determines if the HTML element (tag) is a closing tag. Ex: &lt;div&gt;\n\t * returns `false`, while &lt;/div&gt; returns `true`.\n\t *\n\t * @return {Boolean}\n\t */\n\tisClosing : function() {\n\t\treturn this.closing;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.EntityNode\n * @extends Autolinker.htmlParser.HtmlNode\n *\n * Represents a known HTML entity node that has been parsed by the {@link Autolinker.htmlParser.HtmlParser}.\n * Ex: '&amp;nbsp;', or '&amp#160;' (which will be retrievable from the {@link #getText}\n * method.\n *\n * Note that this class will only be returned from the HtmlParser for the set of\n * checked HTML entity nodes  defined by the {@link Autolinker.htmlParser.HtmlParser#htmlCharacterEntitiesRegex}.\n *\n * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more\n * details.\n */\nAutolinker.htmlParser.EntityNode = Autolinker.Util.extend( Autolinker.htmlParser.HtmlNode, {\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'entity';\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.TextNode\n * @extends Autolinker.htmlParser.HtmlNode\n *\n * Represents a text node that has been parsed by the {@link Autolinker.htmlParser.HtmlParser}.\n *\n * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more\n * details.\n */\nAutolinker.htmlParser.TextNode = Autolinker.Util.extend( Autolinker.htmlParser.HtmlNode, {\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'text';\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @private\n * @class Autolinker.matchParser.MatchParser\n * @extends Object\n *\n * Used by Autolinker to parse potential matches, given an input string of text.\n *\n * The MatchParser is fed a non-HTML string in order to search for matches.\n * Autolinker first uses the {@link Autolinker.htmlParser.HtmlParser} to \"walk\n * around\" HTML tags, and then the text around the HTML tags is passed into the\n * MatchParser in order to find the actual matches.\n */\nAutolinker.matchParser.MatchParser = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {Boolean} urls\n\t * @inheritdoc Autolinker#urls\n\t */\n\turls : true,\n\n\t/**\n\t * @cfg {Boolean} email\n\t * @inheritdoc Autolinker#email\n\t */\n\temail : true,\n\n\t/**\n\t * @cfg {Boolean} twitter\n\t * @inheritdoc Autolinker#twitter\n\t */\n\ttwitter : true,\n\n\t/**\n\t * @cfg {Boolean} phone\n\t * @inheritdoc Autolinker#phone\n\t */\n\tphone: true,\n\n\t/**\n\t * @cfg {Boolean/String} hashtag\n\t * @inheritdoc Autolinker#hashtag\n\t */\n\thashtag : false,\n\n\t/**\n\t * @cfg {Boolean} stripPrefix\n\t * @inheritdoc Autolinker#stripPrefix\n\t */\n\tstripPrefix : true,\n\n\n\t/**\n\t * @private\n\t * @property {RegExp} matcherRegex\n\t *\n\t * The regular expression that matches URLs, email addresses, phone #s,\n\t * Twitter handles, and Hashtags.\n\t *\n\t * This regular expression has the following capturing groups:\n\t *\n\t * 1.  Group that is used to determine if there is a Twitter handle match\n\t *     (i.e. \\@someTwitterUser). Simply check for its existence to determine\n\t *     if there is a Twitter handle match. The next couple of capturing\n\t *     groups give information about the Twitter handle match.\n\t * 2.  The whitespace character before the \\@sign in a Twitter handle. This\n\t *     is needed because there are no lookbehinds in JS regular expressions,\n\t *     and can be used to reconstruct the original string in a replace().\n\t * 3.  The Twitter handle itself in a Twitter match. If the match is\n\t *     '@someTwitterUser', the handle is 'someTwitterUser'.\n\t * 4.  Group that matches an email address. Used to determine if the match\n\t *     is an email address, as well as holding the full address. Ex:\n\t *     'me@my.com'\n\t * 5.  Group that matches a URL in the input text. Ex: 'http://google.com',\n\t *     'www.google.com', or just 'google.com'. This also includes a path,\n\t *     url parameters, or hash anchors. Ex: google.com/path/to/file?q1=1&q2=2#myAnchor\n\t * 6.  Group that matches a protocol URL (i.e. 'http://google.com'). This is\n\t *     used to match protocol URLs with just a single word, like 'http://localhost',\n\t *     where we won't double check that the domain name has at least one '.'\n\t *     in it.\n\t * 7.  A protocol-relative ('//') match for the case of a 'www.' prefixed\n\t *     URL. Will be an empty string if it is not a protocol-relative match.\n\t *     We need to know the character before the '//' in order to determine\n\t *     if it is a valid match or the // was in a string we don't want to\n\t *     auto-link.\n\t * 8.  A protocol-relative ('//') match for the case of a known TLD prefixed\n\t *     URL. Will be an empty string if it is not a protocol-relative match.\n\t *     See #6 for more info.\n\t * 9.  Group that is used to determine if there is a phone number match. The\n\t *     next 3 groups give segments of the phone number.\n\t * 10. Group that is used to determine if there is a Hashtag match\n\t *     (i.e. \\#someHashtag). Simply check for its existence to determine if\n\t *     there is a Hashtag match. The next couple of capturing groups give\n\t *     information about the Hashtag match.\n\t * 11. The whitespace character before the #sign in a Hashtag handle. This\n\t *     is needed because there are no look-behinds in JS regular\n\t *     expressions, and can be used to reconstruct the original string in a\n\t *     replace().\n\t * 12. The Hashtag itself in a Hashtag match. If the match is\n\t *     '#someHashtag', the hashtag is 'someHashtag'.\n\t */\n\tmatcherRegex : (function() {\n\t\tvar twitterRegex = /(^|[^\\w])@(\\w{1,15})/,              // For matching a twitter handle. Ex: @gregory_jacobs\n\n\t\t    hashtagRegex = /(^|[^\\w])#(\\w{1,139})/,              // For matching a Hashtag. Ex: #games\n\n\t\t    emailRegex = /(?:[\\-;:&=\\+\\$,\\w\\.]+@)/,             // something@ for email addresses (a.k.a. local-part)\n\t\t    phoneRegex = /(?:\\+?\\d{1,3}[-\\s.])?\\(?\\d{3}\\)?[-\\s.]?\\d{3}[-\\s.]\\d{4}/,  // ex: (123) 456-7890, 123 456 7890, 123-456-7890, etc.\n\t\t    protocolRegex = /(?:[A-Za-z][-.+A-Za-z0-9]+:(?![A-Za-z][-.+A-Za-z0-9]+:\\/\\/)(?!\\d+\\/?)(?:\\/\\/)?)/,  // match protocol, allow in format \"http://\" or \"mailto:\". However, do not match the first part of something like 'link:http://www.google.com' (i.e. don't match \"link:\"). Also, make sure we don't interpret 'google.com:8000' as if 'google.com' was a protocol here (i.e. ignore a trailing port number in this regex)\n\t\t    wwwRegex = /(?:www\\.)/,                             // starting with 'www.'\n\t\t    domainNameRegex = /[A-Za-z0-9\\.\\-]*[A-Za-z0-9\\-]/,  // anything looking at all like a domain, non-unicode domains, not ending in a period\n\t\t    tldRegex = /\\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\\b/,   // match our known top level domains (TLDs)\n\n\t\t    // Allow optional path, query string, and hash anchor, not ending in the following characters: \"?!:,.;\"\n\t\t    // http://blog.codinghorror.com/the-problem-with-urls/\n\t\t    urlSuffixRegex = /[\\-A-Za-z0-9+&@#\\/%=~_()|'$*\\[\\]?!:,.;]*[\\-A-Za-z0-9+&@#\\/%=~_()|'$*\\[\\]]/;\n\n\t\treturn new RegExp( [\n\t\t\t'(',  // *** Capturing group $1, which can be used to check for a twitter handle match. Use group $3 for the actual twitter handle though. $2 may be used to reconstruct the original string in a replace()\n\t\t\t\t// *** Capturing group $2, which matches the whitespace character before the '@' sign (needed because of no lookbehinds), and\n\t\t\t\t// *** Capturing group $3, which matches the actual twitter handle\n\t\t\t\ttwitterRegex.source,\n\t\t\t')',\n\n\t\t\t'|',\n\n\t\t\t'(',  // *** Capturing group $4, which is used to determine an email match\n\t\t\t\temailRegex.source,\n\t\t\t\tdomainNameRegex.source,\n\t\t\t\ttldRegex.source,\n\t\t\t')',\n\n\t\t\t'|',\n\n\t\t\t'(',  // *** Capturing group $5, which is used to match a URL\n\t\t\t\t'(?:', // parens to cover match for protocol (optional), and domain\n\t\t\t\t\t'(',  // *** Capturing group $6, for a protocol-prefixed url (ex: http://google.com)\n\t\t\t\t\t\tprotocolRegex.source,\n\t\t\t\t\t\tdomainNameRegex.source,\n\t\t\t\t\t')',\n\n\t\t\t\t\t'|',\n\n\t\t\t\t\t'(?:',  // non-capturing paren for a 'www.' prefixed url (ex: www.google.com)\n\t\t\t\t\t\t'(.?//)?',  // *** Capturing group $7 for an optional protocol-relative URL. Must be at the beginning of the string or start with a non-word character\n\t\t\t\t\t\twwwRegex.source,\n\t\t\t\t\t\tdomainNameRegex.source,\n\t\t\t\t\t')',\n\n\t\t\t\t\t'|',\n\n\t\t\t\t\t'(?:',  // non-capturing paren for known a TLD url (ex: google.com)\n\t\t\t\t\t\t'(.?//)?',  // *** Capturing group $8 for an optional protocol-relative URL. Must be at the beginning of the string or start with a non-word character\n\t\t\t\t\t\tdomainNameRegex.source,\n\t\t\t\t\t\ttldRegex.source,\n\t\t\t\t\t')',\n\t\t\t\t')',\n\n\t\t\t\t'(?:' + urlSuffixRegex.source + ')?',  // match for path, query string, and/or hash anchor - optional\n\t\t\t')',\n\n\t\t\t'|',\n\n\t\t\t// this setup does not scale well for open extension :( Need to rethink design of autolinker...\n\t\t\t// ***  Capturing group $9, which matches a (USA for now) phone number\n\t\t\t'(',\n\t\t\t\tphoneRegex.source,\n\t\t\t')',\n\n\t\t\t'|',\n\n\t\t\t'(',  // *** Capturing group $10, which can be used to check for a Hashtag match. Use group $12 for the actual Hashtag though. $11 may be used to reconstruct the original string in a replace()\n\t\t\t\t// *** Capturing group $11, which matches the whitespace character before the '#' sign (needed because of no lookbehinds), and\n\t\t\t\t// *** Capturing group $12, which matches the actual Hashtag\n\t\t\t\thashtagRegex.source,\n\t\t\t')'\n\t\t].join( \"\" ), 'gi' );\n\t} )(),\n\n\t/**\n\t * @private\n\t * @property {RegExp} charBeforeProtocolRelMatchRegex\n\t *\n\t * The regular expression used to retrieve the character before a\n\t * protocol-relative URL match.\n\t *\n\t * This is used in conjunction with the {@link #matcherRegex}, which needs\n\t * to grab the character before a protocol-relative '//' due to the lack of\n\t * a negative look-behind in JavaScript regular expressions. The character\n\t * before the match is stripped from the URL.\n\t */\n\tcharBeforeProtocolRelMatchRegex : /^(.)?\\/\\//,\n\n\t/**\n\t * @private\n\t * @property {Autolinker.MatchValidator} matchValidator\n\t *\n\t * The MatchValidator object, used to filter out any false positives from\n\t * the {@link #matcherRegex}. See {@link Autolinker.MatchValidator} for details.\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} [cfg] The configuration options for the AnchorTagBuilder\n\t * instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.Util.assign( this, cfg );\n\n\t\tthis.matchValidator = new Autolinker.MatchValidator();\n\t},\n\n\n\t/**\n\t * Parses the input `text` to search for matches, and calls the `replaceFn`\n\t * to allow replacements of the matches. Returns the `text` with matches\n\t * replaced.\n\t *\n\t * @param {String} text The text to search and repace matches in.\n\t * @param {Function} replaceFn The iterator function to handle the\n\t *   replacements. The function takes a single argument, a {@link Autolinker.match.Match}\n\t *   object, and should return the text that should make the replacement.\n\t * @param {Object} [contextObj=window] The context object (\"scope\") to run\n\t *   the `replaceFn` in.\n\t * @return {String}\n\t */\n\treplace : function( text, replaceFn, contextObj ) {\n\t\tvar me = this;  // for closure\n\n\t\treturn text.replace( this.matcherRegex, function( matchStr, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12 ) {\n\t\t\tvar matchDescObj = me.processCandidateMatch( matchStr, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12 );  // \"match description\" object\n\n\t\t\t// Return out with no changes for match types that are disabled (url,\n\t\t\t// email, phone, etc.), or for matches that are invalid (false\n\t\t\t// positives from the matcherRegex, which can't use look-behinds\n\t\t\t// since they are unavailable in JS).\n\t\t\tif( !matchDescObj ) {\n\t\t\t\treturn matchStr;\n\n\t\t\t} else {\n\t\t\t\t// Generate replacement text for the match from the `replaceFn`\n\t\t\t\tvar replaceStr = replaceFn.call( contextObj, matchDescObj.match );\n\t\t\t\treturn matchDescObj.prefixStr + replaceStr + matchDescObj.suffixStr;\n\t\t\t}\n\t\t} );\n\t},\n\n\n\t/**\n\t * Processes a candidate match from the {@link #matcherRegex}.\n\t *\n\t * Not all matches found by the regex are actual URL/Email/Phone/Twitter/Hashtag\n\t * matches, as determined by the {@link #matchValidator}. In this case, the\n\t * method returns `null`. Otherwise, a valid Object with `prefixStr`,\n\t * `match`, and `suffixStr` is returned.\n\t *\n\t * @private\n\t * @param {String} matchStr The full match that was found by the\n\t *   {@link #matcherRegex}.\n\t * @param {String} twitterMatch The matched text of a Twitter handle, if the\n\t *   match is a Twitter match.\n\t * @param {String} twitterHandlePrefixWhitespaceChar The whitespace char\n\t *   before the @ sign in a Twitter handle match. This is needed because of\n\t *   no lookbehinds in JS regexes, and is need to re-include the character\n\t *   for the anchor tag replacement.\n\t * @param {String} twitterHandle The actual Twitter user (i.e the word after\n\t *   the @ sign in a Twitter match).\n\t * @param {String} emailAddressMatch The matched email address for an email\n\t *   address match.\n\t * @param {String} urlMatch The matched URL string for a URL match.\n\t * @param {String} protocolUrlMatch The match URL string for a protocol\n\t *   match. Ex: 'http://yahoo.com'. This is used to match something like\n\t *   'http://localhost', where we won't double check that the domain name\n\t *   has at least one '.' in it.\n\t * @param {String} wwwProtocolRelativeMatch The '//' for a protocol-relative\n\t *   match from a 'www' url, with the character that comes before the '//'.\n\t * @param {String} tldProtocolRelativeMatch The '//' for a protocol-relative\n\t *   match from a TLD (top level domain) match, with the character that\n\t *   comes before the '//'.\n\t * @param {String} phoneMatch The matched text of a phone number\n\t * @param {String} hashtagMatch The matched text of a Twitter\n\t *   Hashtag, if the match is a Hashtag match.\n\t * @param {String} hashtagPrefixWhitespaceChar The whitespace char\n\t *   before the # sign in a Hashtag match. This is needed because of no\n\t *   lookbehinds in JS regexes, and is need to re-include the character for\n\t *   the anchor tag replacement.\n\t * @param {String} hashtag The actual Hashtag (i.e the word\n\t *   after the # sign in a Hashtag match).\n\t *\n\t * @return {Object} A \"match description object\". This will be `null` if the\n\t *   match was invalid, or if a match type is disabled. Otherwise, this will\n\t *   be an Object (map) with the following properties:\n\t * @return {String} return.prefixStr The char(s) that should be prepended to\n\t *   the replacement string. These are char(s) that were needed to be\n\t *   included from the regex match that were ignored by processing code, and\n\t *   should be re-inserted into the replacement stream.\n\t * @return {String} return.suffixStr The char(s) that should be appended to\n\t *   the replacement string. These are char(s) that were needed to be\n\t *   included from the regex match that were ignored by processing code, and\n\t *   should be re-inserted into the replacement stream.\n\t * @return {Autolinker.match.Match} return.match The Match object that\n\t *   represents the match that was found.\n\t */\n\tprocessCandidateMatch : function(\n\t\tmatchStr, twitterMatch, twitterHandlePrefixWhitespaceChar, twitterHandle,\n\t\temailAddressMatch, urlMatch, protocolUrlMatch, wwwProtocolRelativeMatch,\n\t\ttldProtocolRelativeMatch, phoneMatch, hashtagMatch,\n\t\thashtagPrefixWhitespaceChar, hashtag\n\t) {\n\t\t// Note: The `matchStr` variable wil be fixed up to remove characters that are no longer needed (which will\n\t\t// be added to `prefixStr` and `suffixStr`).\n\n\t\tvar protocolRelativeMatch = wwwProtocolRelativeMatch || tldProtocolRelativeMatch,\n\t\t    match,  // Will be an Autolinker.match.Match object\n\n\t\t    prefixStr = \"\",  // A string to use to prefix the anchor tag that is created. This is needed for the Twitter and Hashtag matches.\n\t\t    suffixStr = \"\";  // A string to suffix the anchor tag that is created. This is used if there is a trailing parenthesis that should not be auto-linked.\n\n\t\t// Return out with `null` for match types that are disabled (url, email,\n\t\t// twitter, hashtag), or for matches that are invalid (false positives\n\t\t// from the matcherRegex, which can't use look-behinds since they are\n\t\t// unavailable in JS).\n\t\tif(\n\t\t\t( urlMatch && !this.urls ) ||\n\t\t\t( emailAddressMatch && !this.email ) ||\n\t\t\t( phoneMatch && !this.phone ) ||\n\t\t\t( twitterMatch && !this.twitter ) ||\n\t\t\t( hashtagMatch && !this.hashtag ) ||\n\t\t\t!this.matchValidator.isValidMatch( urlMatch, protocolUrlMatch, protocolRelativeMatch )\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Handle a closing parenthesis at the end of the match, and exclude it\n\t\t// if there is not a matching open parenthesis\n\t\t// in the match itself.\n\t\tif( this.matchHasUnbalancedClosingParen( matchStr ) ) {\n\t\t\tmatchStr = matchStr.substr( 0, matchStr.length - 1 );  // remove the trailing \")\"\n\t\t\tsuffixStr = \")\";  // this will be added after the generated <a> tag\n\t\t} else {\n\t\t\t// Handle an invalid character after the TLD\n\t\t\tvar pos = this.matchHasInvalidCharAfterTld( urlMatch, protocolUrlMatch );\n\t\t\tif( pos > -1 ) {\n\t\t\t\tsuffixStr = matchStr.substr(pos);  // this will be added after the generated <a> tag\n\t\t\t\tmatchStr = matchStr.substr( 0, pos ); // remove the trailing invalid chars\n\t\t\t}\n\t\t}\n\n\t\tif( emailAddressMatch ) {\n\t\t\tmatch = new Autolinker.match.Email( { matchedText: matchStr, email: emailAddressMatch } );\n\n\t\t} else if( twitterMatch ) {\n\t\t\t// fix up the `matchStr` if there was a preceding whitespace char,\n\t\t\t// which was needed to determine the match itself (since there are\n\t\t\t// no look-behinds in JS regexes)\n\t\t\tif( twitterHandlePrefixWhitespaceChar ) {\n\t\t\t\tprefixStr = twitterHandlePrefixWhitespaceChar;\n\t\t\t\tmatchStr = matchStr.slice( 1 );  // remove the prefixed whitespace char from the match\n\t\t\t}\n\t\t\tmatch = new Autolinker.match.Twitter( { matchedText: matchStr, twitterHandle: twitterHandle } );\n\n\t\t} else if( phoneMatch ) {\n\t\t\t// remove non-numeric values from phone number string\n\t\t\tvar cleanNumber = matchStr.replace( /\\D/g, '' );\n \t\t\tmatch = new Autolinker.match.Phone( { matchedText: matchStr, number: cleanNumber } );\n\n\t\t} else if( hashtagMatch ) {\n\t\t\t// fix up the `matchStr` if there was a preceding whitespace char,\n\t\t\t// which was needed to determine the match itself (since there are\n\t\t\t// no look-behinds in JS regexes)\n\t\t\tif( hashtagPrefixWhitespaceChar ) {\n\t\t\t\tprefixStr = hashtagPrefixWhitespaceChar;\n\t\t\t\tmatchStr = matchStr.slice( 1 );  // remove the prefixed whitespace char from the match\n\t\t\t}\n\t\t\tmatch = new Autolinker.match.Hashtag( { matchedText: matchStr, serviceName: this.hashtag, hashtag: hashtag } );\n\n\t\t} else {  // url match\n\t\t\t// If it's a protocol-relative '//' match, remove the character\n\t\t\t// before the '//' (which the matcherRegex needed to match due to\n\t\t\t// the lack of a negative look-behind in JavaScript regular\n\t\t\t// expressions)\n\t\t\tif( protocolRelativeMatch ) {\n\t\t\t\tvar charBeforeMatch = protocolRelativeMatch.match( this.charBeforeProtocolRelMatchRegex )[ 1 ] || \"\";\n\n\t\t\t\tif( charBeforeMatch ) {  // fix up the `matchStr` if there was a preceding char before a protocol-relative match, which was needed to determine the match itself (since there are no look-behinds in JS regexes)\n\t\t\t\t\tprefixStr = charBeforeMatch;\n\t\t\t\t\tmatchStr = matchStr.slice( 1 );  // remove the prefixed char from the match\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmatch = new Autolinker.match.Url( {\n\t\t\t\tmatchedText : matchStr,\n\t\t\t\turl : matchStr,\n\t\t\t\tprotocolUrlMatch : !!protocolUrlMatch,\n\t\t\t\tprotocolRelativeMatch : !!protocolRelativeMatch,\n\t\t\t\tstripPrefix : this.stripPrefix\n\t\t\t} );\n\t\t}\n\n\t\treturn {\n\t\t\tprefixStr : prefixStr,\n\t\t\tsuffixStr : suffixStr,\n\t\t\tmatch     : match\n\t\t};\n\t},\n\n\n\t/**\n\t * Determines if a match found has an unmatched closing parenthesis. If so,\n\t * this parenthesis will be removed from the match itself, and appended\n\t * after the generated anchor tag in {@link #processCandidateMatch}.\n\t *\n\t * A match may have an extra closing parenthesis at the end of the match\n\t * because the regular expression must include parenthesis for URLs such as\n\t * \"wikipedia.com/something_(disambiguation)\", which should be auto-linked.\n\t *\n\t * However, an extra parenthesis *will* be included when the URL itself is\n\t * wrapped in parenthesis, such as in the case of \"(wikipedia.com/something_(disambiguation))\".\n\t * In this case, the last closing parenthesis should *not* be part of the\n\t * URL itself, and this method will return `true`.\n\t *\n\t * @private\n\t * @param {String} matchStr The full match string from the {@link #matcherRegex}.\n\t * @return {Boolean} `true` if there is an unbalanced closing parenthesis at\n\t *   the end of the `matchStr`, `false` otherwise.\n\t */\n\tmatchHasUnbalancedClosingParen : function( matchStr ) {\n\t\tvar lastChar = matchStr.charAt( matchStr.length - 1 );\n\n\t\tif( lastChar === ')' ) {\n\t\t\tvar openParensMatch = matchStr.match( /\\(/g ),\n\t\t\t    closeParensMatch = matchStr.match( /\\)/g ),\n\t\t\t    numOpenParens = ( openParensMatch && openParensMatch.length ) || 0,\n\t\t\t    numCloseParens = ( closeParensMatch && closeParensMatch.length ) || 0;\n\n\t\t\tif( numOpenParens < numCloseParens ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\n\t/**\n\t * Determine if there's an invalid character after the TLD in a URL. Valid\n\t * characters after TLD are ':/?#'. Exclude protocol matched URLs from this\n\t * check.\n\t *\n\t * @private\n\t * @param {String} urlMatch The matched URL, if there was one. Will be an\n\t *   empty string if the match is not a URL match.\n\t * @param {String} protocolUrlMatch The match URL string for a protocol\n\t *   match. Ex: 'http://yahoo.com'. This is used to match something like\n\t *   'http://localhost', where we won't double check that the domain name\n\t *   has at least one '.' in it.\n\t * @return {Number} the position where the invalid character was found. If\n\t *   no such character was found, returns -1\n\t */\n\tmatchHasInvalidCharAfterTld : function( urlMatch, protocolUrlMatch ) {\n\t\tif ( !urlMatch ) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tvar offset = 0;\n\t\tif ( protocolUrlMatch ) {\n\t\t\toffset = urlMatch.indexOf(':');\n\t\t\turlMatch = urlMatch.slice(offset);\n\t\t}\n\n\t\tvar re = /^((.?\\/\\/)?[A-Za-z0-9\\.\\-]*[A-Za-z0-9\\-]\\.[A-Za-z]+)/;\n\t\tvar res = re.exec( urlMatch );\n\t\tif ( res === null ) {\n\t\t\treturn -1;\n\t\t}\n\n\t\toffset += res[1].length;\n\t\turlMatch = urlMatch.slice(res[1].length);\n\t\tif (/^[^.A-Za-z:\\/?#]/.test(urlMatch)) {\n\t\t\treturn offset;\n\t\t}\n\n\t\treturn -1;\n\t}\n\n} );\n\n/*global Autolinker */\n/*jshint scripturl:true */\n/**\n * @private\n * @class Autolinker.MatchValidator\n * @extends Object\n *\n * Used by Autolinker to filter out false positives from the\n * {@link Autolinker.matchParser.MatchParser#matcherRegex}.\n *\n * Due to the limitations of regular expressions (including the missing feature\n * of look-behinds in JS regular expressions), we cannot always determine the\n * validity of a given match. This class applies a bit of additional logic to\n * filter out any false positives that have been matched by the\n * {@link Autolinker.matchParser.MatchParser#matcherRegex}.\n */\nAutolinker.MatchValidator = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @private\n\t * @property {RegExp} invalidProtocolRelMatchRegex\n\t *\n\t * The regular expression used to check a potential protocol-relative URL\n\t * match, coming from the {@link Autolinker.matchParser.MatchParser#matcherRegex}.\n\t * A protocol-relative URL is, for example, \"//yahoo.com\"\n\t *\n\t * This regular expression checks to see if there is a word character before\n\t * the '//' match in order to determine if we should actually autolink a\n\t * protocol-relative URL. This is needed because there is no negative\n\t * look-behind in JavaScript regular expressions.\n\t *\n\t * For instance, we want to autolink something like \"Go to: //google.com\",\n\t * but we don't want to autolink something like \"abc//google.com\"\n\t */\n\tinvalidProtocolRelMatchRegex : /^[\\w]\\/\\//,\n\n\t/**\n\t * Regex to test for a full protocol, with the two trailing slashes. Ex: 'http://'\n\t *\n\t * @private\n\t * @property {RegExp} hasFullProtocolRegex\n\t */\n\thasFullProtocolRegex : /^[A-Za-z][-.+A-Za-z0-9]+:\\/\\//,\n\n\t/**\n\t * Regex to find the URI scheme, such as 'mailto:'.\n\t *\n\t * This is used to filter out 'javascript:' and 'vbscript:' schemes.\n\t *\n\t * @private\n\t * @property {RegExp} uriSchemeRegex\n\t */\n\turiSchemeRegex : /^[A-Za-z][-.+A-Za-z0-9]+:/,\n\n\t/**\n\t * Regex to determine if at least one word char exists after the protocol (i.e. after the ':')\n\t *\n\t * @private\n\t * @property {RegExp} hasWordCharAfterProtocolRegex\n\t */\n\thasWordCharAfterProtocolRegex : /:[^\\s]*?[A-Za-z]/,\n\n\n\t/**\n\t * Determines if a given match found by the {@link Autolinker.matchParser.MatchParser}\n\t * is valid. Will return `false` for:\n\t *\n\t * 1) URL matches which do not have at least have one period ('.') in the\n\t *    domain name (effectively skipping over matches like \"abc:def\").\n\t *    However, URL matches with a protocol will be allowed (ex: 'http://localhost')\n\t * 2) URL matches which do not have at least one word character in the\n\t *    domain name (effectively skipping over matches like \"git:1.0\").\n\t * 3) A protocol-relative url match (a URL beginning with '//') whose\n\t *    previous character is a word character (effectively skipping over\n\t *    strings like \"abc//google.com\")\n\t *\n\t * Otherwise, returns `true`.\n\t *\n\t * @param {String} urlMatch The matched URL, if there was one. Will be an\n\t *   empty string if the match is not a URL match.\n\t * @param {String} protocolUrlMatch The match URL string for a protocol\n\t *   match. Ex: 'http://yahoo.com'. This is used to match something like\n\t *   'http://localhost', where we won't double check that the domain name\n\t *   has at least one '.' in it.\n\t * @param {String} protocolRelativeMatch The protocol-relative string for a\n\t *   URL match (i.e. '//'), possibly with a preceding character (ex, a\n\t *   space, such as: ' //', or a letter, such as: 'a//'). The match is\n\t *   invalid if there is a word character preceding the '//'.\n\t * @return {Boolean} `true` if the match given is valid and should be\n\t *   processed, or `false` if the match is invalid and/or should just not be\n\t *   processed.\n\t */\n\tisValidMatch : function( urlMatch, protocolUrlMatch, protocolRelativeMatch ) {\n\t\tif(\n\t\t\t( protocolUrlMatch && !this.isValidUriScheme( protocolUrlMatch ) ) ||\n\t\t\tthis.urlMatchDoesNotHaveProtocolOrDot( urlMatch, protocolUrlMatch ) ||       // At least one period ('.') must exist in the URL match for us to consider it an actual URL, *unless* it was a full protocol match (like 'http://localhost')\n\t\t\tthis.urlMatchDoesNotHaveAtLeastOneWordChar( urlMatch, protocolUrlMatch ) ||  // At least one letter character must exist in the domain name after a protocol match. Ex: skip over something like \"git:1.0\"\n\t\t\tthis.isInvalidProtocolRelativeMatch( protocolRelativeMatch )                 // A protocol-relative match which has a word character in front of it (so we can skip something like \"abc//google.com\")\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\n\t/**\n\t * Determines if the URI scheme is a valid scheme to be autolinked. Returns\n\t * `false` if the scheme is 'javascript:' or 'vbscript:'\n\t *\n\t * @private\n\t * @param {String} uriSchemeMatch The match URL string for a full URI scheme\n\t *   match. Ex: 'http://yahoo.com' or 'mailto:a@a.com'.\n\t * @return {Boolean} `true` if the scheme is a valid one, `false` otherwise.\n\t */\n\tisValidUriScheme : function( uriSchemeMatch ) {\n\t\tvar uriScheme = uriSchemeMatch.match( this.uriSchemeRegex )[ 0 ].toLowerCase();\n\n\t\treturn ( uriScheme !== 'javascript:' && uriScheme !== 'vbscript:' );\n\t},\n\n\n\t/**\n\t * Determines if a URL match does not have either:\n\t *\n\t * a) a full protocol (i.e. 'http://'), or\n\t * b) at least one dot ('.') in the domain name (for a non-full-protocol\n\t *    match).\n\t *\n\t * Either situation is considered an invalid URL (ex: 'git:d' does not have\n\t * either the '://' part, or at least one dot in the domain name. If the\n\t * match was 'git:abc.com', we would consider this valid.)\n\t *\n\t * @private\n\t * @param {String} urlMatch The matched URL, if there was one. Will be an\n\t *   empty string if the match is not a URL match.\n\t * @param {String} protocolUrlMatch The match URL string for a protocol\n\t *   match. Ex: 'http://yahoo.com'. This is used to match something like\n\t *   'http://localhost', where we won't double check that the domain name\n\t *   has at least one '.' in it.\n\t * @return {Boolean} `true` if the URL match does not have a full protocol,\n\t *   or at least one dot ('.') in a non-full-protocol match.\n\t */\n\turlMatchDoesNotHaveProtocolOrDot : function( urlMatch, protocolUrlMatch ) {\n\t\treturn ( !!urlMatch && ( !protocolUrlMatch || !this.hasFullProtocolRegex.test( protocolUrlMatch ) ) && urlMatch.indexOf( '.' ) === -1 );\n\t},\n\n\n\t/**\n\t * Determines if a URL match does not have at least one word character after\n\t * the protocol (i.e. in the domain name).\n\t *\n\t * At least one letter character must exist in the domain name after a\n\t * protocol match. Ex: skip over something like \"git:1.0\"\n\t *\n\t * @private\n\t * @param {String} urlMatch The matched URL, if there was one. Will be an\n\t *   empty string if the match is not a URL match.\n\t * @param {String} protocolUrlMatch The match URL string for a protocol\n\t *   match. Ex: 'http://yahoo.com'. This is used to know whether or not we\n\t *   have a protocol in the URL string, in order to check for a word\n\t *   character after the protocol separator (':').\n\t * @return {Boolean} `true` if the URL match does not have at least one word\n\t *   character in it after the protocol, `false` otherwise.\n\t */\n\turlMatchDoesNotHaveAtLeastOneWordChar : function( urlMatch, protocolUrlMatch ) {\n\t\tif( urlMatch && protocolUrlMatch ) {\n\t\t\treturn !this.hasWordCharAfterProtocolRegex.test( urlMatch );\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n\n\n\t/**\n\t * Determines if a protocol-relative match is an invalid one. This method\n\t * returns `true` if there is a `protocolRelativeMatch`, and that match\n\t * contains a word character before the '//' (i.e. it must contain\n\t * whitespace or nothing before the '//' in order to be considered valid).\n\t *\n\t * @private\n\t * @param {String} protocolRelativeMatch The protocol-relative string for a\n\t *   URL match (i.e. '//'), possibly with a preceding character (ex, a\n\t *   space, such as: ' //', or a letter, such as: 'a//'). The match is\n\t *   invalid if there is a word character preceding the '//'.\n\t * @return {Boolean} `true` if it is an invalid protocol-relative match,\n\t *   `false` otherwise.\n\t */\n\tisInvalidProtocolRelativeMatch : function( protocolRelativeMatch ) {\n\t\treturn ( !!protocolRelativeMatch && this.invalidProtocolRelMatchRegex.test( protocolRelativeMatch ) );\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @abstract\n * @class Autolinker.match.Match\n * \n * Represents a match found in an input string which should be Autolinked. A Match object is what is provided in a \n * {@link Autolinker#replaceFn replaceFn}, and may be used to query for details about the match.\n * \n * For example:\n * \n *     var input = \"...\";  // string with URLs, Email Addresses, and Twitter Handles\n *     \n *     var linkedText = Autolinker.link( input, {\n *         replaceFn : function( autolinker, match ) {\n *             console.log( \"href = \", match.getAnchorHref() );\n *             console.log( \"text = \", match.getAnchorText() );\n *         \n *             switch( match.getType() ) {\n *                 case 'url' : \n *                     console.log( \"url: \", match.getUrl() );\n *                     \n *                 case 'email' :\n *                     console.log( \"email: \", match.getEmail() );\n *                     \n *                 case 'twitter' :\n *                     console.log( \"twitter: \", match.getTwitterHandle() );\n *             }\n *         }\n *     } );\n *     \n * See the {@link Autolinker} class for more details on using the {@link Autolinker#replaceFn replaceFn}.\n */\nAutolinker.match.Match = Autolinker.Util.extend( Object, {\n\t\n\t/**\n\t * @cfg {String} matchedText (required)\n\t * \n\t * The original text that was matched.\n\t */\n\t\n\t\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.Util.assign( this, cfg );\n\t},\n\n\t\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t * \n\t * @abstract\n\t * @return {String}\n\t */\n\tgetType : Autolinker.Util.abstractMethod,\n\t\n\t\n\t/**\n\t * Returns the original text that was matched.\n\t * \n\t * @return {String}\n\t */\n\tgetMatchedText : function() {\n\t\treturn this.matchedText;\n\t},\n\t\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t * \n\t * @abstract\n\t * @return {String}\n\t */\n\tgetAnchorHref : Autolinker.Util.abstractMethod,\n\t\n\t\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t * \n\t * @abstract\n\t * @return {String}\n\t */\n\tgetAnchorText : Autolinker.Util.abstractMethod\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.match.Email\n * @extends Autolinker.match.Match\n * \n * Represents a Email match found in an input string which should be Autolinked.\n * \n * See this class's superclass ({@link Autolinker.match.Match}) for more details.\n */\nAutolinker.match.Email = Autolinker.Util.extend( Autolinker.match.Match, {\n\t\n\t/**\n\t * @cfg {String} email (required)\n\t * \n\t * The email address that was matched.\n\t */\n\t\n\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t * \n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'email';\n\t},\n\t\n\t\n\t/**\n\t * Returns the email address that was matched.\n\t * \n\t * @return {String}\n\t */\n\tgetEmail : function() {\n\t\treturn this.email;\n\t},\n\t\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t * \n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\treturn 'mailto:' + this.email;\n\t},\n\t\n\t\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t * \n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\treturn this.email;\n\t}\n\t\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.match.Hashtag\n * @extends Autolinker.match.Match\n *\n * Represents a Hashtag match found in an input string which should be\n * Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more\n * details.\n */\nAutolinker.match.Hashtag = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @cfg {String} serviceName (required)\n\t *\n\t * The service to point hashtag matches to. See {@link Autolinker#hashtag}\n\t * for available values.\n\t */\n\n\t/**\n\t * @cfg {String} hashtag (required)\n\t *\n\t * The Hashtag that was matched, without the '#'.\n\t */\n\n\n\t/**\n\t * Returns the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'hashtag';\n\t},\n\n\n\t/**\n\t * Returns the matched hashtag.\n\t *\n\t * @return {String}\n\t */\n\tgetHashtag : function() {\n\t\treturn this.hashtag;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\tvar serviceName = this.serviceName,\n\t\t    hashtag = this.hashtag;\n\n\t\tswitch( serviceName ) {\n\t\t\tcase 'twitter' :\n\t\t\t\treturn 'https://twitter.com/hashtag/' + hashtag;\n\t\t\tcase 'facebook' :\n\t\t\t\treturn 'https://www.facebook.com/hashtag/' + hashtag;\n\n\t\t\tdefault :  // Shouldn't happen because Autolinker's constructor should block any invalid values, but just in case.\n\t\t\t\tthrow new Error( 'Unknown service name to point hashtag to: ', serviceName );\n\t\t}\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\treturn '#' + this.hashtag;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.match.Phone\n * @extends Autolinker.match.Match\n *\n * Represents a Phone number match found in an input string which should be\n * Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more\n * details.\n */\nAutolinker.match.Phone = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @cfg {String} number (required)\n\t *\n\t * The phone number that was matched.\n\t */\n\n\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'phone';\n\t},\n\n\n\t/**\n\t * Returns the phone number that was matched.\n\t *\n\t * @return {String}\n\t */\n\tgetNumber: function() {\n\t\treturn this.number;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\treturn 'tel:' + this.number;\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\treturn this.matchedText;\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.match.Twitter\n * @extends Autolinker.match.Match\n * \n * Represents a Twitter match found in an input string which should be Autolinked.\n * \n * See this class's superclass ({@link Autolinker.match.Match}) for more details.\n */\nAutolinker.match.Twitter = Autolinker.Util.extend( Autolinker.match.Match, {\n\t\n\t/**\n\t * @cfg {String} twitterHandle (required)\n\t * \n\t * The Twitter handle that was matched.\n\t */\n\t\n\n\t/**\n\t * Returns the type of match that this class represents.\n\t * \n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'twitter';\n\t},\n\t\n\t\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t * \n\t * @return {String}\n\t */\n\tgetTwitterHandle : function() {\n\t\treturn this.twitterHandle;\n\t},\n\t\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t * \n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\treturn 'https://twitter.com/' + this.twitterHandle;\n\t},\n\t\n\t\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t * \n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\treturn '@' + this.twitterHandle;\n\t}\n\t\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.match.Url\n * @extends Autolinker.match.Match\n * \n * Represents a Url match found in an input string which should be Autolinked.\n * \n * See this class's superclass ({@link Autolinker.match.Match}) for more details.\n */\nAutolinker.match.Url = Autolinker.Util.extend( Autolinker.match.Match, {\n\t\n\t/**\n\t * @cfg {String} url (required)\n\t * \n\t * The url that was matched.\n\t */\n\t\n\t/**\n\t * @cfg {Boolean} protocolUrlMatch (required)\n\t * \n\t * `true` if the URL is a match which already has a protocol (i.e. 'http://'), `false` if the match was from a 'www' or\n\t * known TLD match.\n\t */\n\t\n\t/**\n\t * @cfg {Boolean} protocolRelativeMatch (required)\n\t * \n\t * `true` if the URL is a protocol-relative match. A protocol-relative match is a URL that starts with '//',\n\t * and will be either http:// or https:// based on the protocol that the site is loaded under.\n\t */\n\t\n\t/**\n\t * @cfg {Boolean} stripPrefix (required)\n\t * @inheritdoc Autolinker#stripPrefix\n\t */\n\t\n\n\t/**\n\t * @private\n\t * @property {RegExp} urlPrefixRegex\n\t * \n\t * A regular expression used to remove the 'http://' or 'https://' and/or the 'www.' from URLs.\n\t */\n\turlPrefixRegex: /^(https?:\\/\\/)?(www\\.)?/i,\n\t\n\t/**\n\t * @private\n\t * @property {RegExp} protocolRelativeRegex\n\t * \n\t * The regular expression used to remove the protocol-relative '//' from the {@link #url} string, for purposes\n\t * of {@link #getAnchorText}. A protocol-relative URL is, for example, \"//yahoo.com\"\n\t */\n\tprotocolRelativeRegex : /^\\/\\//,\n\t\n\t/**\n\t * @private\n\t * @property {Boolean} protocolPrepended\n\t * \n\t * Will be set to `true` if the 'http://' protocol has been prepended to the {@link #url} (because the\n\t * {@link #url} did not have a protocol)\n\t */\n\tprotocolPrepended : false,\n\t\n\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t * \n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'url';\n\t},\n\t\n\t\n\t/**\n\t * Returns the url that was matched, assuming the protocol to be 'http://' if the original\n\t * match was missing a protocol.\n\t * \n\t * @return {String}\n\t */\n\tgetUrl : function() {\n\t\tvar url = this.url;\n\t\t\n\t\t// if the url string doesn't begin with a protocol, assume 'http://'\n\t\tif( !this.protocolRelativeMatch && !this.protocolUrlMatch && !this.protocolPrepended ) {\n\t\t\turl = this.url = 'http://' + url;\n\t\t\t\n\t\t\tthis.protocolPrepended = true;\n\t\t}\n\t\t\n\t\treturn url;\n\t},\n\t\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t * \n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\tvar url = this.getUrl();\n\t\t\n\t\treturn url.replace( /&amp;/g, '&' );  // any &amp;'s in the URL should be converted back to '&' if they were displayed as &amp; in the source html \n\t},\n\t\n\t\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t * \n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\tvar anchorText = this.getUrl();\n\t\t\n\t\tif( this.protocolRelativeMatch ) {\n\t\t\t// Strip off any protocol-relative '//' from the anchor text\n\t\t\tanchorText = this.stripProtocolRelativePrefix( anchorText );\n\t\t}\n\t\tif( this.stripPrefix ) {\n\t\t\tanchorText = this.stripUrlPrefix( anchorText );\n\t\t}\n\t\tanchorText = this.removeTrailingSlash( anchorText );  // remove trailing slash, if there is one\n\t\t\n\t\treturn anchorText;\n\t},\n\t\n\t\n\t// ---------------------------------------\n\t\n\t// Utility Functionality\n\t\n\t/**\n\t * Strips the URL prefix (such as \"http://\" or \"https://\") from the given text.\n\t * \n\t * @private\n\t * @param {String} text The text of the anchor that is being generated, for which to strip off the\n\t *   url prefix (such as stripping off \"http://\")\n\t * @return {String} The `anchorText`, with the prefix stripped.\n\t */\n\tstripUrlPrefix : function( text ) {\n\t\treturn text.replace( this.urlPrefixRegex, '' );\n\t},\n\t\n\t\n\t/**\n\t * Strips any protocol-relative '//' from the anchor text.\n\t * \n\t * @private\n\t * @param {String} text The text of the anchor that is being generated, for which to strip off the\n\t *   protocol-relative prefix (such as stripping off \"//\")\n\t * @return {String} The `anchorText`, with the protocol-relative prefix stripped.\n\t */\n\tstripProtocolRelativePrefix : function( text ) {\n\t\treturn text.replace( this.protocolRelativeRegex, '' );\n\t},\n\t\n\t\n\t/**\n\t * Removes any trailing slash from the given `anchorText`, in preparation for the text to be displayed.\n\t * \n\t * @private\n\t * @param {String} anchorText The text of the anchor that is being generated, for which to remove any trailing\n\t *   slash ('/') that may exist.\n\t * @return {String} The `anchorText`, with the trailing slash removed.\n\t */\n\tremoveTrailingSlash : function( anchorText ) {\n\t\tif( anchorText.charAt( anchorText.length - 1 ) === '/' ) {\n\t\t\tanchorText = anchorText.slice( 0, -1 );\n\t\t}\n\t\treturn anchorText;\n\t}\n\t\n} );\nreturn Autolinker;\n\n}));\n","","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            currentQueue[queueIndex].run();\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*!\n\n handlebars v3.0.3\n\nCopyright (C) 2011-2014 by Yehuda Katz\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n@license\n*/\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Handlebars\"] = factory();\n\telse\n\t\troot[\"Handlebars\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireWildcard = __webpack_require__(7)['default'];\n\n\texports.__esModule = true;\n\n\tvar _import = __webpack_require__(1);\n\n\tvar base = _interopRequireWildcard(_import);\n\n\t// Each of these augment the Handlebars object. No need to setup here.\n\t// (This is done to easily share code between commonjs and browse envs)\n\n\tvar _SafeString = __webpack_require__(2);\n\n\tvar _SafeString2 = _interopRequireWildcard(_SafeString);\n\n\tvar _Exception = __webpack_require__(3);\n\n\tvar _Exception2 = _interopRequireWildcard(_Exception);\n\n\tvar _import2 = __webpack_require__(4);\n\n\tvar Utils = _interopRequireWildcard(_import2);\n\n\tvar _import3 = __webpack_require__(5);\n\n\tvar runtime = _interopRequireWildcard(_import3);\n\n\tvar _noConflict = __webpack_require__(6);\n\n\tvar _noConflict2 = _interopRequireWildcard(_noConflict);\n\n\t// For compatibility and usage outside of module systems, make the Handlebars object a namespace\n\tfunction create() {\n\t  var hb = new base.HandlebarsEnvironment();\n\n\t  Utils.extend(hb, base);\n\t  hb.SafeString = _SafeString2['default'];\n\t  hb.Exception = _Exception2['default'];\n\t  hb.Utils = Utils;\n\t  hb.escapeExpression = Utils.escapeExpression;\n\n\t  hb.VM = runtime;\n\t  hb.template = function (spec) {\n\t    return runtime.template(spec, hb);\n\t  };\n\n\t  return hb;\n\t}\n\n\tvar inst = create();\n\tinst.create = create;\n\n\t_noConflict2['default'](inst);\n\n\tinst['default'] = inst;\n\n\texports['default'] = inst;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireWildcard = __webpack_require__(7)['default'];\n\n\texports.__esModule = true;\n\texports.HandlebarsEnvironment = HandlebarsEnvironment;\n\texports.createFrame = createFrame;\n\n\tvar _import = __webpack_require__(4);\n\n\tvar Utils = _interopRequireWildcard(_import);\n\n\tvar _Exception = __webpack_require__(3);\n\n\tvar _Exception2 = _interopRequireWildcard(_Exception);\n\n\tvar VERSION = '3.0.1';\n\texports.VERSION = VERSION;\n\tvar COMPILER_REVISION = 6;\n\n\texports.COMPILER_REVISION = COMPILER_REVISION;\n\tvar REVISION_CHANGES = {\n\t  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n\t  2: '== 1.0.0-rc.3',\n\t  3: '== 1.0.0-rc.4',\n\t  4: '== 1.x.x',\n\t  5: '== 2.0.0-alpha.x',\n\t  6: '>= 2.0.0-beta.1'\n\t};\n\n\texports.REVISION_CHANGES = REVISION_CHANGES;\n\tvar isArray = Utils.isArray,\n\t    isFunction = Utils.isFunction,\n\t    toString = Utils.toString,\n\t    objectType = '[object Object]';\n\n\tfunction HandlebarsEnvironment(helpers, partials) {\n\t  this.helpers = helpers || {};\n\t  this.partials = partials || {};\n\n\t  registerDefaultHelpers(this);\n\t}\n\n\tHandlebarsEnvironment.prototype = {\n\t  constructor: HandlebarsEnvironment,\n\n\t  logger: logger,\n\t  log: log,\n\n\t  registerHelper: function registerHelper(name, fn) {\n\t    if (toString.call(name) === objectType) {\n\t      if (fn) {\n\t        throw new _Exception2['default']('Arg not supported with multiple helpers');\n\t      }\n\t      Utils.extend(this.helpers, name);\n\t    } else {\n\t      this.helpers[name] = fn;\n\t    }\n\t  },\n\t  unregisterHelper: function unregisterHelper(name) {\n\t    delete this.helpers[name];\n\t  },\n\n\t  registerPartial: function registerPartial(name, partial) {\n\t    if (toString.call(name) === objectType) {\n\t      Utils.extend(this.partials, name);\n\t    } else {\n\t      if (typeof partial === 'undefined') {\n\t        throw new _Exception2['default']('Attempting to register a partial as undefined');\n\t      }\n\t      this.partials[name] = partial;\n\t    }\n\t  },\n\t  unregisterPartial: function unregisterPartial(name) {\n\t    delete this.partials[name];\n\t  }\n\t};\n\n\tfunction registerDefaultHelpers(instance) {\n\t  instance.registerHelper('helperMissing', function () {\n\t    if (arguments.length === 1) {\n\t      // A missing field in a {{foo}} constuct.\n\t      return undefined;\n\t    } else {\n\t      // Someone is actually trying to call something, blow up.\n\t      throw new _Exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n\t    }\n\t  });\n\n\t  instance.registerHelper('blockHelperMissing', function (context, options) {\n\t    var inverse = options.inverse,\n\t        fn = options.fn;\n\n\t    if (context === true) {\n\t      return fn(this);\n\t    } else if (context === false || context == null) {\n\t      return inverse(this);\n\t    } else if (isArray(context)) {\n\t      if (context.length > 0) {\n\t        if (options.ids) {\n\t          options.ids = [options.name];\n\t        }\n\n\t        return instance.helpers.each(context, options);\n\t      } else {\n\t        return inverse(this);\n\t      }\n\t    } else {\n\t      if (options.data && options.ids) {\n\t        var data = createFrame(options.data);\n\t        data.contextPath = Utils.appendContextPath(options.data.contextPath, options.name);\n\t        options = { data: data };\n\t      }\n\n\t      return fn(context, options);\n\t    }\n\t  });\n\n\t  instance.registerHelper('each', function (context, options) {\n\t    if (!options) {\n\t      throw new _Exception2['default']('Must pass iterator to #each');\n\t    }\n\n\t    var fn = options.fn,\n\t        inverse = options.inverse,\n\t        i = 0,\n\t        ret = '',\n\t        data = undefined,\n\t        contextPath = undefined;\n\n\t    if (options.data && options.ids) {\n\t      contextPath = Utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n\t    }\n\n\t    if (isFunction(context)) {\n\t      context = context.call(this);\n\t    }\n\n\t    if (options.data) {\n\t      data = createFrame(options.data);\n\t    }\n\n\t    function execIteration(field, index, last) {\n\t      if (data) {\n\t        data.key = field;\n\t        data.index = index;\n\t        data.first = index === 0;\n\t        data.last = !!last;\n\n\t        if (contextPath) {\n\t          data.contextPath = contextPath + field;\n\t        }\n\t      }\n\n\t      ret = ret + fn(context[field], {\n\t        data: data,\n\t        blockParams: Utils.blockParams([context[field], field], [contextPath + field, null])\n\t      });\n\t    }\n\n\t    if (context && typeof context === 'object') {\n\t      if (isArray(context)) {\n\t        for (var j = context.length; i < j; i++) {\n\t          execIteration(i, i, i === context.length - 1);\n\t        }\n\t      } else {\n\t        var priorKey = undefined;\n\n\t        for (var key in context) {\n\t          if (context.hasOwnProperty(key)) {\n\t            // We're running the iterations one step out of sync so we can detect\n\t            // the last iteration without have to scan the object twice and create\n\t            // an itermediate keys array.\n\t            if (priorKey) {\n\t              execIteration(priorKey, i - 1);\n\t            }\n\t            priorKey = key;\n\t            i++;\n\t          }\n\t        }\n\t        if (priorKey) {\n\t          execIteration(priorKey, i - 1, true);\n\t        }\n\t      }\n\t    }\n\n\t    if (i === 0) {\n\t      ret = inverse(this);\n\t    }\n\n\t    return ret;\n\t  });\n\n\t  instance.registerHelper('if', function (conditional, options) {\n\t    if (isFunction(conditional)) {\n\t      conditional = conditional.call(this);\n\t    }\n\n\t    // Default behavior is to render the positive path if the value is truthy and not empty.\n\t    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n\t    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n\t    if (!options.hash.includeZero && !conditional || Utils.isEmpty(conditional)) {\n\t      return options.inverse(this);\n\t    } else {\n\t      return options.fn(this);\n\t    }\n\t  });\n\n\t  instance.registerHelper('unless', function (conditional, options) {\n\t    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });\n\t  });\n\n\t  instance.registerHelper('with', function (context, options) {\n\t    if (isFunction(context)) {\n\t      context = context.call(this);\n\t    }\n\n\t    var fn = options.fn;\n\n\t    if (!Utils.isEmpty(context)) {\n\t      if (options.data && options.ids) {\n\t        var data = createFrame(options.data);\n\t        data.contextPath = Utils.appendContextPath(options.data.contextPath, options.ids[0]);\n\t        options = { data: data };\n\t      }\n\n\t      return fn(context, options);\n\t    } else {\n\t      return options.inverse(this);\n\t    }\n\t  });\n\n\t  instance.registerHelper('log', function (message, options) {\n\t    var level = options.data && options.data.level != null ? parseInt(options.data.level, 10) : 1;\n\t    instance.log(level, message);\n\t  });\n\n\t  instance.registerHelper('lookup', function (obj, field) {\n\t    return obj && obj[field];\n\t  });\n\t}\n\n\tvar logger = {\n\t  methodMap: { 0: 'debug', 1: 'info', 2: 'warn', 3: 'error' },\n\n\t  // State enum\n\t  DEBUG: 0,\n\t  INFO: 1,\n\t  WARN: 2,\n\t  ERROR: 3,\n\t  level: 1,\n\n\t  // Can be overridden in the host environment\n\t  log: function log(level, message) {\n\t    if (typeof console !== 'undefined' && logger.level <= level) {\n\t      var method = logger.methodMap[level];\n\t      (console[method] || console.log).call(console, message); // eslint-disable-line no-console\n\t    }\n\t  }\n\t};\n\n\texports.logger = logger;\n\tvar log = logger.log;\n\n\texports.log = log;\n\n\tfunction createFrame(object) {\n\t  var frame = Utils.extend({}, object);\n\t  frame._parent = object;\n\t  return frame;\n\t}\n\n\t/* [args, ]options */\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\t// Build out our basic SafeString type\n\tfunction SafeString(string) {\n\t  this.string = string;\n\t}\n\n\tSafeString.prototype.toString = SafeString.prototype.toHTML = function () {\n\t  return '' + this.string;\n\t};\n\n\texports['default'] = SafeString;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];\n\n\tfunction Exception(message, node) {\n\t  var loc = node && node.loc,\n\t      line = undefined,\n\t      column = undefined;\n\t  if (loc) {\n\t    line = loc.start.line;\n\t    column = loc.start.column;\n\n\t    message += ' - ' + line + ':' + column;\n\t  }\n\n\t  var tmp = Error.prototype.constructor.call(this, message);\n\n\t  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n\t  for (var idx = 0; idx < errorProps.length; idx++) {\n\t    this[errorProps[idx]] = tmp[errorProps[idx]];\n\t  }\n\n\t  if (Error.captureStackTrace) {\n\t    Error.captureStackTrace(this, Exception);\n\t  }\n\n\t  if (loc) {\n\t    this.lineNumber = line;\n\t    this.column = column;\n\t  }\n\t}\n\n\tException.prototype = new Error();\n\n\texports['default'] = Exception;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\texports.extend = extend;\n\n\t// Older IE versions do not directly support indexOf so we must implement our own, sadly.\n\texports.indexOf = indexOf;\n\texports.escapeExpression = escapeExpression;\n\texports.isEmpty = isEmpty;\n\texports.blockParams = blockParams;\n\texports.appendContextPath = appendContextPath;\n\tvar escape = {\n\t  '&': '&amp;',\n\t  '<': '&lt;',\n\t  '>': '&gt;',\n\t  '\"': '&quot;',\n\t  '\\'': '&#x27;',\n\t  '`': '&#x60;'\n\t};\n\n\tvar badChars = /[&<>\"'`]/g,\n\t    possible = /[&<>\"'`]/;\n\n\tfunction escapeChar(chr) {\n\t  return escape[chr];\n\t}\n\n\tfunction extend(obj /* , ...source */) {\n\t  for (var i = 1; i < arguments.length; i++) {\n\t    for (var key in arguments[i]) {\n\t      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n\t        obj[key] = arguments[i][key];\n\t      }\n\t    }\n\t  }\n\n\t  return obj;\n\t}\n\n\tvar toString = Object.prototype.toString;\n\n\texports.toString = toString;\n\t// Sourced from lodash\n\t// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n\t/*eslint-disable func-style, no-var */\n\tvar isFunction = function isFunction(value) {\n\t  return typeof value === 'function';\n\t};\n\t// fallback for older versions of Chrome and Safari\n\t/* istanbul ignore next */\n\tif (isFunction(/x/)) {\n\t  exports.isFunction = isFunction = function (value) {\n\t    return typeof value === 'function' && toString.call(value) === '[object Function]';\n\t  };\n\t}\n\tvar isFunction;\n\texports.isFunction = isFunction;\n\t/*eslint-enable func-style, no-var */\n\n\t/* istanbul ignore next */\n\tvar isArray = Array.isArray || function (value) {\n\t  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;\n\t};exports.isArray = isArray;\n\n\tfunction indexOf(array, value) {\n\t  for (var i = 0, len = array.length; i < len; i++) {\n\t    if (array[i] === value) {\n\t      return i;\n\t    }\n\t  }\n\t  return -1;\n\t}\n\n\tfunction escapeExpression(string) {\n\t  if (typeof string !== 'string') {\n\t    // don't escape SafeStrings, since they're already safe\n\t    if (string && string.toHTML) {\n\t      return string.toHTML();\n\t    } else if (string == null) {\n\t      return '';\n\t    } else if (!string) {\n\t      return string + '';\n\t    }\n\n\t    // Force a string conversion as this will be done by the append regardless and\n\t    // the regex test will do this transparently behind the scenes, causing issues if\n\t    // an object's to string has escaped characters in it.\n\t    string = '' + string;\n\t  }\n\n\t  if (!possible.test(string)) {\n\t    return string;\n\t  }\n\t  return string.replace(badChars, escapeChar);\n\t}\n\n\tfunction isEmpty(value) {\n\t  if (!value && value !== 0) {\n\t    return true;\n\t  } else if (isArray(value) && value.length === 0) {\n\t    return true;\n\t  } else {\n\t    return false;\n\t  }\n\t}\n\n\tfunction blockParams(params, ids) {\n\t  params.path = ids;\n\t  return params;\n\t}\n\n\tfunction appendContextPath(contextPath, id) {\n\t  return (contextPath ? contextPath + '.' : '') + id;\n\t}\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireWildcard = __webpack_require__(7)['default'];\n\n\texports.__esModule = true;\n\texports.checkRevision = checkRevision;\n\n\t// TODO: Remove this line and break up compilePartial\n\n\texports.template = template;\n\texports.wrapProgram = wrapProgram;\n\texports.resolvePartial = resolvePartial;\n\texports.invokePartial = invokePartial;\n\texports.noop = noop;\n\n\tvar _import = __webpack_require__(4);\n\n\tvar Utils = _interopRequireWildcard(_import);\n\n\tvar _Exception = __webpack_require__(3);\n\n\tvar _Exception2 = _interopRequireWildcard(_Exception);\n\n\tvar _COMPILER_REVISION$REVISION_CHANGES$createFrame = __webpack_require__(1);\n\n\tfunction checkRevision(compilerInfo) {\n\t  var compilerRevision = compilerInfo && compilerInfo[0] || 1,\n\t      currentRevision = _COMPILER_REVISION$REVISION_CHANGES$createFrame.COMPILER_REVISION;\n\n\t  if (compilerRevision !== currentRevision) {\n\t    if (compilerRevision < currentRevision) {\n\t      var runtimeVersions = _COMPILER_REVISION$REVISION_CHANGES$createFrame.REVISION_CHANGES[currentRevision],\n\t          compilerVersions = _COMPILER_REVISION$REVISION_CHANGES$createFrame.REVISION_CHANGES[compilerRevision];\n\t      throw new _Exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n\t    } else {\n\t      // Use the embedded version info since the runtime doesn't know about this revision yet\n\t      throw new _Exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n\t    }\n\t  }\n\t}\n\n\tfunction template(templateSpec, env) {\n\t  /* istanbul ignore next */\n\t  if (!env) {\n\t    throw new _Exception2['default']('No environment passed to template');\n\t  }\n\t  if (!templateSpec || !templateSpec.main) {\n\t    throw new _Exception2['default']('Unknown template object: ' + typeof templateSpec);\n\t  }\n\n\t  // Note: Using env.VM references rather than local var references throughout this section to allow\n\t  // for external users to override these as psuedo-supported APIs.\n\t  env.VM.checkRevision(templateSpec.compiler);\n\n\t  function invokePartialWrapper(partial, context, options) {\n\t    if (options.hash) {\n\t      context = Utils.extend({}, context, options.hash);\n\t    }\n\n\t    partial = env.VM.resolvePartial.call(this, partial, context, options);\n\t    var result = env.VM.invokePartial.call(this, partial, context, options);\n\n\t    if (result == null && env.compile) {\n\t      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n\t      result = options.partials[options.name](context, options);\n\t    }\n\t    if (result != null) {\n\t      if (options.indent) {\n\t        var lines = result.split('\\n');\n\t        for (var i = 0, l = lines.length; i < l; i++) {\n\t          if (!lines[i] && i + 1 === l) {\n\t            break;\n\t          }\n\n\t          lines[i] = options.indent + lines[i];\n\t        }\n\t        result = lines.join('\\n');\n\t      }\n\t      return result;\n\t    } else {\n\t      throw new _Exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n\t    }\n\t  }\n\n\t  // Just add water\n\t  var container = {\n\t    strict: function strict(obj, name) {\n\t      if (!(name in obj)) {\n\t        throw new _Exception2['default']('\"' + name + '\" not defined in ' + obj);\n\t      }\n\t      return obj[name];\n\t    },\n\t    lookup: function lookup(depths, name) {\n\t      var len = depths.length;\n\t      for (var i = 0; i < len; i++) {\n\t        if (depths[i] && depths[i][name] != null) {\n\t          return depths[i][name];\n\t        }\n\t      }\n\t    },\n\t    lambda: function lambda(current, context) {\n\t      return typeof current === 'function' ? current.call(context) : current;\n\t    },\n\n\t    escapeExpression: Utils.escapeExpression,\n\t    invokePartial: invokePartialWrapper,\n\n\t    fn: function fn(i) {\n\t      return templateSpec[i];\n\t    },\n\n\t    programs: [],\n\t    program: function program(i, data, declaredBlockParams, blockParams, depths) {\n\t      var programWrapper = this.programs[i],\n\t          fn = this.fn(i);\n\t      if (data || depths || blockParams || declaredBlockParams) {\n\t        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n\t      } else if (!programWrapper) {\n\t        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n\t      }\n\t      return programWrapper;\n\t    },\n\n\t    data: function data(value, depth) {\n\t      while (value && depth--) {\n\t        value = value._parent;\n\t      }\n\t      return value;\n\t    },\n\t    merge: function merge(param, common) {\n\t      var obj = param || common;\n\n\t      if (param && common && param !== common) {\n\t        obj = Utils.extend({}, common, param);\n\t      }\n\n\t      return obj;\n\t    },\n\n\t    noop: env.VM.noop,\n\t    compilerInfo: templateSpec.compiler\n\t  };\n\n\t  function ret(context) {\n\t    var options = arguments[1] === undefined ? {} : arguments[1];\n\n\t    var data = options.data;\n\n\t    ret._setup(options);\n\t    if (!options.partial && templateSpec.useData) {\n\t      data = initData(context, data);\n\t    }\n\t    var depths = undefined,\n\t        blockParams = templateSpec.useBlockParams ? [] : undefined;\n\t    if (templateSpec.useDepths) {\n\t      depths = options.depths ? [context].concat(options.depths) : [context];\n\t    }\n\n\t    return templateSpec.main.call(container, context, container.helpers, container.partials, data, blockParams, depths);\n\t  }\n\t  ret.isTop = true;\n\n\t  ret._setup = function (options) {\n\t    if (!options.partial) {\n\t      container.helpers = container.merge(options.helpers, env.helpers);\n\n\t      if (templateSpec.usePartial) {\n\t        container.partials = container.merge(options.partials, env.partials);\n\t      }\n\t    } else {\n\t      container.helpers = options.helpers;\n\t      container.partials = options.partials;\n\t    }\n\t  };\n\n\t  ret._child = function (i, data, blockParams, depths) {\n\t    if (templateSpec.useBlockParams && !blockParams) {\n\t      throw new _Exception2['default']('must pass block params');\n\t    }\n\t    if (templateSpec.useDepths && !depths) {\n\t      throw new _Exception2['default']('must pass parent depths');\n\t    }\n\n\t    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n\t  };\n\t  return ret;\n\t}\n\n\tfunction wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n\t  function prog(context) {\n\t    var options = arguments[1] === undefined ? {} : arguments[1];\n\n\t    return fn.call(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), depths && [context].concat(depths));\n\t  }\n\t  prog.program = i;\n\t  prog.depth = depths ? depths.length : 0;\n\t  prog.blockParams = declaredBlockParams || 0;\n\t  return prog;\n\t}\n\n\tfunction resolvePartial(partial, context, options) {\n\t  if (!partial) {\n\t    partial = options.partials[options.name];\n\t  } else if (!partial.call && !options.name) {\n\t    // This is a dynamic partial that returned a string\n\t    options.name = partial;\n\t    partial = options.partials[partial];\n\t  }\n\t  return partial;\n\t}\n\n\tfunction invokePartial(partial, context, options) {\n\t  options.partial = true;\n\n\t  if (partial === undefined) {\n\t    throw new _Exception2['default']('The partial ' + options.name + ' could not be found');\n\t  } else if (partial instanceof Function) {\n\t    return partial(context, options);\n\t  }\n\t}\n\n\tfunction noop() {\n\t  return '';\n\t}\n\n\tfunction initData(context, data) {\n\t  if (!data || !('root' in data)) {\n\t    data = data ? _COMPILER_REVISION$REVISION_CHANGES$createFrame.createFrame(data) : {};\n\t    data.root = context;\n\t  }\n\t  return data;\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\n\texports.__esModule = true;\n\t/*global window */\n\n\texports['default'] = function (Handlebars) {\n\t  /* istanbul ignore next */\n\t  var root = typeof global !== 'undefined' ? global : window,\n\t      $Handlebars = root.Handlebars;\n\t  /* istanbul ignore next */\n\t  Handlebars.noConflict = function () {\n\t    if (root.Handlebars === Handlebars) {\n\t      root.Handlebars = $Handlebars;\n\t    }\n\t  };\n\t};\n\n\tmodule.exports = exports['default'];\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\texports[\"default\"] = function (obj) {\n\t  return obj && obj.__esModule ? obj : {\n\t    \"default\": obj\n\t  };\n\t};\n\n\texports.__esModule = true;\n\n/***/ }\n/******/ ])\n});\n;","  /* globals require, module */\n\n  'use strict';\n\n  /**\n   * Module dependencies.\n   */\n\n  var pathtoRegexp = require('path-to-regexp');\n\n  /**\n   * Module exports.\n   */\n\n  module.exports = page;\n\n  /**\n   * Detect click event\n   */\n  var clickEvent = ('undefined' !== typeof document) && document.ontouchstart ? 'touchstart' : 'click';\n\n  /**\n   * To work properly with the URL\n   * history.location generated polyfill in https://github.com/devote/HTML5-History-API\n   */\n\n  var location = ('undefined' !== typeof window) && (window.history.location || window.location);\n\n  /**\n   * Perform initial dispatch.\n   */\n\n  var dispatch = true;\n\n\n  /**\n   * Decode URL components (query string, pathname, hash).\n   * Accommodates both regular percent encoding and x-www-form-urlencoded format.\n   */\n  var decodeURLComponents = true;\n\n  /**\n   * Base path.\n   */\n\n  var base = '';\n\n  /**\n   * Running flag.\n   */\n\n  var running;\n\n  /**\n   * HashBang option\n   */\n\n  var hashbang = false;\n\n  /**\n   * Previous context, for capturing\n   * page exit events.\n   */\n\n  var prevContext;\n\n  /**\n   * Register `path` with callback `fn()`,\n   * or route `path`, or redirection,\n   * or `page.start()`.\n   *\n   *   page(fn);\n   *   page('*', fn);\n   *   page('/user/:id', load, user);\n   *   page('/user/' + user.id, { some: 'thing' });\n   *   page('/user/' + user.id);\n   *   page('/from', '/to')\n   *   page();\n   *\n   * @param {String|Function} path\n   * @param {Function} fn...\n   * @api public\n   */\n\n  function page(path, fn) {\n    // <callback>\n    if ('function' === typeof path) {\n      return page('*', path);\n    }\n\n    // route <path> to <callback ...>\n    if ('function' === typeof fn) {\n      var route = new Route(path);\n      for (var i = 1; i < arguments.length; ++i) {\n        page.callbacks.push(route.middleware(arguments[i]));\n      }\n      // show <path> with [state]\n    } else if ('string' === typeof path) {\n      page['string' === typeof fn ? 'redirect' : 'show'](path, fn);\n      // start [options]\n    } else {\n      page.start(path);\n    }\n  }\n\n  /**\n   * Callback functions.\n   */\n\n  page.callbacks = [];\n  page.exits = [];\n\n  /**\n   * Current path being processed\n   * @type {String}\n   */\n  page.current = '';\n\n  /**\n   * Number of pages navigated to.\n   * @type {number}\n   *\n   *     page.len == 0;\n   *     page('/login');\n   *     page.len == 1;\n   */\n\n  page.len = 0;\n\n  /**\n   * Get or set basepath to `path`.\n   *\n   * @param {String} path\n   * @api public\n   */\n\n  page.base = function(path) {\n    if (0 === arguments.length) return base;\n    base = path;\n  };\n\n  /**\n   * Bind with the given `options`.\n   *\n   * Options:\n   *\n   *    - `click` bind to click events [true]\n   *    - `popstate` bind to popstate [true]\n   *    - `dispatch` perform initial dispatch [true]\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  page.start = function(options) {\n    options = options || {};\n    if (running) return;\n    running = true;\n    if (false === options.dispatch) dispatch = false;\n    if (false === options.decodeURLComponents) decodeURLComponents = false;\n    if (false !== options.popstate) window.addEventListener('popstate', onpopstate, false);\n    if (false !== options.click) {\n      document.addEventListener(clickEvent, onclick, false);\n    }\n    if (true === options.hashbang) hashbang = true;\n    if (!dispatch) return;\n    var url = (hashbang && ~location.hash.indexOf('#!')) ? location.hash.substr(2) + location.search : location.pathname + location.search + location.hash;\n    page.replace(url, null, true, dispatch);\n  };\n\n  /**\n   * Unbind click and popstate event handlers.\n   *\n   * @api public\n   */\n\n  page.stop = function() {\n    if (!running) return;\n    page.current = '';\n    page.len = 0;\n    running = false;\n    document.removeEventListener(clickEvent, onclick, false);\n    window.removeEventListener('popstate', onpopstate, false);\n  };\n\n  /**\n   * Show `path` with optional `state` object.\n   *\n   * @param {String} path\n   * @param {Object} state\n   * @param {Boolean} dispatch\n   * @return {Context}\n   * @api public\n   */\n\n  page.show = function(path, state, dispatch, push) {\n    var ctx = new Context(path, state);\n    page.current = ctx.path;\n    if (false !== dispatch) page.dispatch(ctx);\n    if (false !== ctx.handled && false !== push) ctx.pushState();\n    return ctx;\n  };\n\n  /**\n   * Goes back in the history\n   * Back should always let the current route push state and then go back.\n   *\n   * @param {String} path - fallback path to go back if no more history exists, if undefined defaults to page.base\n   * @param {Object} [state]\n   * @api public\n   */\n\n  page.back = function(path, state) {\n    if (page.len > 0) {\n      // this may need more testing to see if all browsers\n      // wait for the next tick to go back in history\n      history.back();\n      page.len--;\n    } else if (path) {\n      setTimeout(function() {\n        page.show(path, state);\n      });\n    }else{\n      setTimeout(function() {\n        page.show(base, state);\n      });\n    }\n  };\n\n\n  /**\n   * Register route to redirect from one path to other\n   * or just redirect to another route\n   *\n   * @param {String} from - if param 'to' is undefined redirects to 'from'\n   * @param {String} [to]\n   * @api public\n   */\n  page.redirect = function(from, to) {\n    // Define route from a path to another\n    if ('string' === typeof from && 'string' === typeof to) {\n      page(from, function(e) {\n        setTimeout(function() {\n          page.replace(to);\n        }, 0);\n      });\n    }\n\n    // Wait for the push state and replace it with another\n    if ('string' === typeof from && 'undefined' === typeof to) {\n      setTimeout(function() {\n        page.replace(from);\n      }, 0);\n    }\n  };\n\n  /**\n   * Replace `path` with optional `state` object.\n   *\n   * @param {String} path\n   * @param {Object} state\n   * @return {Context}\n   * @api public\n   */\n\n\n  page.replace = function(path, state, init, dispatch) {\n    var ctx = new Context(path, state);\n    page.current = ctx.path;\n    ctx.init = init;\n    ctx.save(); // save before dispatching, which may redirect\n    if (false !== dispatch) page.dispatch(ctx);\n    return ctx;\n  };\n\n  /**\n   * Dispatch the given `ctx`.\n   *\n   * @param {Object} ctx\n   * @api private\n   */\n\n  page.dispatch = function(ctx) {\n    var prev = prevContext,\n      i = 0,\n      j = 0;\n\n    prevContext = ctx;\n\n    function nextExit() {\n      var fn = page.exits[j++];\n      if (!fn) return nextEnter();\n      fn(prev, nextExit);\n    }\n\n    function nextEnter() {\n      var fn = page.callbacks[i++];\n\n      if (ctx.path !== page.current) {\n        ctx.handled = false;\n        return;\n      }\n      if (!fn) return unhandled(ctx);\n      fn(ctx, nextEnter);\n    }\n\n    if (prev) {\n      nextExit();\n    } else {\n      nextEnter();\n    }\n  };\n\n  /**\n   * Unhandled `ctx`. When it's not the initial\n   * popstate then redirect. If you wish to handle\n   * 404s on your own use `page('*', callback)`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n\n  function unhandled(ctx) {\n    if (ctx.handled) return;\n    var current;\n\n    if (hashbang) {\n      current = base + location.hash.replace('#!', '');\n    } else {\n      current = location.pathname + location.search;\n    }\n\n    if (current === ctx.canonicalPath) return;\n    page.stop();\n    ctx.handled = false;\n    location.href = ctx.canonicalPath;\n  }\n\n  /**\n   * Register an exit route on `path` with\n   * callback `fn()`, which will be called\n   * on the previous context when a new\n   * page is visited.\n   */\n  page.exit = function(path, fn) {\n    if (typeof path === 'function') {\n      return page.exit('*', path);\n    }\n\n    var route = new Route(path);\n    for (var i = 1; i < arguments.length; ++i) {\n      page.exits.push(route.middleware(arguments[i]));\n    }\n  };\n\n  /**\n   * Remove URL encoding from the given `str`.\n   * Accommodates whitespace in both x-www-form-urlencoded\n   * and regular percent-encoded form.\n   *\n   * @param {str} URL component to decode\n   */\n  function decodeURLEncodedURIComponent(val) {\n    if (typeof val !== 'string') { return val; }\n    return decodeURLComponents ? decodeURIComponent(val.replace(/\\+/g, ' ')) : val;\n  }\n\n  /**\n   * Initialize a new \"request\" `Context`\n   * with the given `path` and optional initial `state`.\n   *\n   * @param {String} path\n   * @param {Object} state\n   * @api public\n   */\n\n  function Context(path, state) {\n    if ('/' === path[0] && 0 !== path.indexOf(base)) path = base + (hashbang ? '#!' : '') + path;\n    var i = path.indexOf('?');\n\n    this.canonicalPath = path;\n    this.path = path.replace(base, '') || '/';\n    if (hashbang) this.path = this.path.replace('#!', '') || '/';\n\n    this.title = document.title;\n    this.state = state || {};\n    this.state.path = path;\n    this.querystring = ~i ? decodeURLEncodedURIComponent(path.slice(i + 1)) : '';\n    this.pathname = decodeURLEncodedURIComponent(~i ? path.slice(0, i) : path);\n    this.params = {};\n\n    // fragment\n    this.hash = '';\n    if (!hashbang) {\n      if (!~this.path.indexOf('#')) return;\n      var parts = this.path.split('#');\n      this.path = parts[0];\n      this.hash = decodeURLEncodedURIComponent(parts[1]) || '';\n      this.querystring = this.querystring.split('#')[0];\n    }\n  }\n\n  /**\n   * Expose `Context`.\n   */\n\n  page.Context = Context;\n\n  /**\n   * Push state.\n   *\n   * @api private\n   */\n\n  Context.prototype.pushState = function() {\n    page.len++;\n    history.pushState(this.state, this.title, hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n  };\n\n  /**\n   * Save the context state.\n   *\n   * @api public\n   */\n\n  Context.prototype.save = function() {\n    history.replaceState(this.state, this.title, hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n  };\n\n  /**\n   * Initialize `Route` with the given HTTP `path`,\n   * and an array of `callbacks` and `options`.\n   *\n   * Options:\n   *\n   *   - `sensitive`    enable case-sensitive routes\n   *   - `strict`       enable strict matching for trailing slashes\n   *\n   * @param {String} path\n   * @param {Object} options.\n   * @api private\n   */\n\n  function Route(path, options) {\n    options = options || {};\n    this.path = (path === '*') ? '(.*)' : path;\n    this.method = 'GET';\n    this.regexp = pathtoRegexp(this.path,\n      this.keys = [],\n      options.sensitive,\n      options.strict);\n  }\n\n  /**\n   * Expose `Route`.\n   */\n\n  page.Route = Route;\n\n  /**\n   * Return route middleware with\n   * the given callback `fn()`.\n   *\n   * @param {Function} fn\n   * @return {Function}\n   * @api public\n   */\n\n  Route.prototype.middleware = function(fn) {\n    var self = this;\n    return function(ctx, next) {\n      if (self.match(ctx.path, ctx.params)) return fn(ctx, next);\n      next();\n    };\n  };\n\n  /**\n   * Check if this route matches `path`, if so\n   * populate `params`.\n   *\n   * @param {String} path\n   * @param {Object} params\n   * @return {Boolean}\n   * @api private\n   */\n\n  Route.prototype.match = function(path, params) {\n    var keys = this.keys,\n      qsIndex = path.indexOf('?'),\n      pathname = ~qsIndex ? path.slice(0, qsIndex) : path,\n      m = this.regexp.exec(decodeURIComponent(pathname));\n\n    if (!m) return false;\n\n    for (var i = 1, len = m.length; i < len; ++i) {\n      var key = keys[i - 1];\n      var val = decodeURLEncodedURIComponent(m[i]);\n      if (val !== undefined || !(hasOwnProperty.call(params, key.name))) {\n        params[key.name] = val;\n      }\n    }\n\n    return true;\n  };\n\n\n  /**\n   * Handle \"populate\" events.\n   */\n\n  var onpopstate = (function () {\n    var loaded = false;\n    if ('undefined' === typeof window) {\n      return;\n    }\n    if (document.readyState === 'complete') {\n      loaded = true;\n    } else {\n      window.addEventListener('load', function() {\n        setTimeout(function() {\n          loaded = true;\n        }, 0);\n      });\n    }\n    return function onpopstate(e) {\n      if (!loaded) return;\n      if (e.state) {\n        var path = e.state.path;\n        page.replace(path, e.state);\n      } else {\n        page.show(location.pathname + location.hash, undefined, undefined, false);\n      }\n    };\n  })();\n  /**\n   * Handle \"click\" events.\n   */\n\n  function onclick(e) {\n\n    if (1 !== which(e)) return;\n\n    if (e.metaKey || e.ctrlKey || e.shiftKey) return;\n    if (e.defaultPrevented) return;\n\n\n\n    // ensure link\n    var el = e.target;\n    while (el && 'A' !== el.nodeName) el = el.parentNode;\n    if (!el || 'A' !== el.nodeName) return;\n\n\n\n    // Ignore if tag has\n    // 1. \"download\" attribute\n    // 2. rel=\"external\" attribute\n    if (el.hasAttribute('download') || el.getAttribute('rel') === 'external') return;\n\n    // ensure non-hash for the same path\n    var link = el.getAttribute('href');\n    if (!hashbang && el.pathname === location.pathname && (el.hash || '#' === link)) return;\n\n\n\n    // Check for mailto: in the href\n    if (link && link.indexOf('mailto:') > -1) return;\n\n    // check target\n    if (el.target) return;\n\n    // x-origin\n    if (!sameOrigin(el.href)) return;\n\n\n\n    // rebuild path\n    var path = el.pathname + el.search + (el.hash || '');\n\n    // strip leading \"/[drive letter]:\" on NW.js on Windows\n    if (typeof process !== 'undefined' && path.match(/^\\/[a-zA-Z]:\\//)) {\n      path = path.replace(/^\\/[a-zA-Z]:\\//, '/');\n    }\n\n    // same page\n    var orig = path;\n\n    if (path.indexOf(base) === 0) {\n      path = path.substr(base.length);\n    }\n\n    if (hashbang) path = path.replace('#!', '');\n\n    if (base && orig === path) return;\n\n    e.preventDefault();\n    page.show(orig);\n  }\n\n  /**\n   * Event button.\n   */\n\n  function which(e) {\n    e = e || window.event;\n    return null === e.which ? e.button : e.which;\n  }\n\n  /**\n   * Check if `href` is the same origin.\n   */\n\n  function sameOrigin(href) {\n    var origin = location.protocol + '//' + location.hostname;\n    if (location.port) origin += ':' + location.port;\n    return (href && (0 === href.indexOf(origin)));\n  }\n\n  page.sameOrigin = sameOrigin;\n","var isArray = require('isarray');\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp;\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\"]\n  // \"/route(\\\\d+)\" => [undefined, undefined, undefined, \"\\d+\", undefined]\n  '([\\\\/.])?(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^)])*)\\\\))?|\\\\(((?:\\\\\\\\.|[^)])*)\\\\))([+*?])?',\n  // Match regexp special characters that are always escaped.\n  '([.+*?=^!:${}()[\\\\]|\\\\/])'\n].join('|'), 'g');\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {String} group\n * @return {String}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1');\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {RegExp} re\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys;\n  return re;\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {String}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i';\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {RegExp} path\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name:      i,\n        delimiter: null,\n        optional:  false,\n        repeat:    false\n      });\n    }\n  }\n\n  return attachKeys(path, keys);\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {Array}  path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options));\n  return attachKeys(regexp, keys);\n}\n\n/**\n * Replace the specific tags with regexp strings.\n *\n * @param  {String} path\n * @param  {Array}  keys\n * @return {String}\n */\nfunction replacePath (path, keys) {\n  var index = 0;\n\n  function replace (_, escaped, prefix, key, capture, group, suffix, escape) {\n    if (escaped) {\n      return escaped;\n    }\n\n    if (escape) {\n      return '\\\\' + escape;\n    }\n\n    var repeat   = suffix === '+' || suffix === '*';\n    var optional = suffix === '?' || suffix === '*';\n\n    keys.push({\n      name:      key || index++,\n      delimiter: prefix || '/',\n      optional:  optional,\n      repeat:    repeat\n    });\n\n    prefix = prefix ? ('\\\\' + prefix) : '';\n    capture = escapeGroup(capture || group || '[^' + (prefix || '\\\\/') + ']+?');\n\n    if (repeat) {\n      capture = capture + '(?:' + prefix + capture + ')*';\n    }\n\n    if (optional) {\n      return '(?:' + prefix + '(' + capture + '))?';\n    }\n\n    // Basic parameter support.\n    return prefix + '(' + capture + ')';\n  }\n\n  return path.replace(PATH_REGEXP, replace);\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(String|RegExp|Array)} path\n * @param  {Array}                 [keys]\n * @param  {Object}                [options]\n * @return {RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  keys = keys || [];\n\n  if (!isArray(keys)) {\n    options = keys;\n    keys = [];\n  } else if (!options) {\n    options = {};\n  }\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys, options);\n  }\n\n  if (isArray(path)) {\n    return arrayToRegexp(path, keys, options);\n  }\n\n  var strict = options.strict;\n  var end = options.end !== false;\n  var route = replacePath(path, keys);\n  var endsWithSlash = path.charAt(path.length - 1) === '/';\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithSlash ? route.slice(0, -2) : route) + '(?:\\\\/(?=$))?';\n  }\n\n  if (end) {\n    route += '$';\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithSlash ? '' : '(?=\\\\/|$)';\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys);\n}\n","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nrequire('../../db/db')({\n  protocol: JotApp.server.protocol,\n  domain: JotApp.server.domain,\n  username: JotApp.user.credentials.key,\n  password: JotApp.user.credentials.password,\n  dbName: 'jot-' + JotApp.user._id\n});\n\nconst ViewContainer = require('../../views/view-container');\n\nconst router = require('../../routers/path');\n\nconst RoutesHome = require('../../routes/client/home');\nconst RoutesAuth = require('../../routes/client/auth');\nconst RoutesJot = require('../../routes/client/jot');\nconst RoutesGroup = require('../../routes/client/group');\n\nconst TitleBarView = require('../../views/titlebar');\n\nconst Handlebars = require('handlebars/dist/handlebars.runtime');\nconst helpers = require('../../templates/helpers');\n\nfor (let key of Object.keys(JotApp.templates)) {\n  Handlebars.registerPartial(key, Handlebars.template(JotApp.templates[key]));\n}\n\nfor (let helper in helpers) {\n  Handlebars.registerHelper(helper, helpers[helper]);\n}\n\nconst containerMain = new ViewContainer('view', {\n  home: JotApp.templates.home,\n  group: JotApp.templates.group,\n  groups: JotApp.templates.groups,\n  jots: JotApp.templates.jots\n}, {\n  'group-list': JotApp.templates['group-list'],\n  'jot-list': JotApp.templates['jot-list']\n});\n\nconst routesHome = new RoutesHome(router, '/', containerMain);\nconst routesAuth = new RoutesAuth(router, '/auth');\nconst routesJot = new RoutesJot(router, '/jot', containerMain);\nconst routesGroup = new RoutesGroup(router, '/group', containerMain);\n\nroutesHome.registerRoutes();\nroutesAuth.registerRoutes();\nroutesJot.registerRoutes();\nroutesGroup.registerRoutes();\n\nconst containerHeader = new ViewContainer('header', {\n  titlebar: JotApp.templates.titlebar\n}, {\n  'titlebar-title': JotApp.templates['titlebar-title']\n});\n\nconst titleBar = new TitleBarView(containerHeader);\n\ntitleBar.render(true);\nrouter.activate();\n\n","'use strict';\n\nconst page = require('page');\n\nmodule.exports = (function() {\n\n  return {\n    activate: function() {\n      page();\n    },\n\n    get: function(path, callback) {\n      page(path, callback);\n    },\n\n    go: function(path) {\n      page(path);\n    },\n\n    back: function() {\n      if (window.history.length) {\n        window.history.back();\n      } else {\n        page('/');\n      }\n    },\n\n    stop: function(path) {\n      page.stop();\n      if (path) {\n        window.location = path;\n      }\n    }\n  };\n\n})();\n","'use strict';\n\nconst Routes = require('./routes');\n\nclass AuthRoutes extends Routes {\n  constructor(router, prefix = '') {\n    super(router, prefix);\n\n    this._routes.authGoogle = {\n      _path: '/google',\n      _method: ['get'],\n      _action: () => {\n        return Promise.resolve();\n      }\n    };\n\n    this._routes.callbackGoogle = {\n      _path: '/google/callback',\n      _method: ['get'],\n      _action: () => {\n        return Promise.resolve();\n      }\n    };\n\n    this._routes.signout = {\n      _path: '/signout',\n      _method: ['get'],\n      _action: () => {\n        return Promise.resolve();\n      }\n    };\n  }\n}\n\nmodule.exports = AuthRoutes;\n","const AuthRoutes = require('../auth');\n\nclass AuthRouter {\n  constructor(router, prefix) {\n    this._db = require('../../db/db')();\n\n    this._router = router;\n    this.routes = new AuthRoutes(router, prefix);\n  }\n\n  registerRoutes() {\n    this.routes.registerRoute('signout', (ctx, next) => {\n      return Promise.resolve().then(() => {\n        return {\n          params: {},\n\n          resolve: () => {\n            this._db.destroy().then(() => {\n              this._router.stop(ctx.canonicalPath);\n            });\n          },\n\n          reject: (err) => {\n            throw new Error(err);\n          }\n        };\n      });\n    });\n  }\n}\n\nmodule.exports = AuthRouter;\n","const Jot = require('../../models/jot');\nconst Group = require('../../models/group');\nconst GroupRoutes = require('../group');\nconst GroupsView = require('../../views/groups');\nconst GroupView = require('../../views/group');\nconst PubSub = require('../../utility/pubsub');\n\nclass GroupClientRoutes {\n  constructor(router, prefix, viewContainer) {\n    this.routes = new GroupRoutes(router, prefix);\n\n    this.groupsView = new GroupsView(viewContainer);\n    this.groupView = new GroupView(viewContainer);\n  }\n\n  registerRoutes() {\n    this.routes.registerRoute('all', (ctx, next) => {\n      return Promise.resolve().then(() => {\n        return {\n          params: {},\n\n          resolve: (groups) => {\n            this.groupsView.render(false, {\n              colours: Group.getColours(),\n              groups\n            });\n\n            PubSub.publish('routeChanged', {\n              name: 'Groups'\n            });\n          },\n\n          reject: (err) => {\n            throw new Error(err);\n          }\n        };\n      });\n    });\n\n    this.routes.registerRoute('view', (ctx, next) => {\n      return Promise.resolve().then(() => {\n        return {\n          params: {\n            id: ctx.params.id\n          },\n\n          resolve: (group) => {\n            const queryObject = {};\n            ctx.querystring.split('&').forEach(bit => {\n              const vals = bit.split('=');\n              queryObject[vals[0]] = vals[1];\n            });\n\n            this.groupView.render(false, {\n              group,\n              editID: queryObject.edit,\n              priorities: Jot.getPriorities()\n            });\n\n            PubSub.publish('routeChanged', {\n              name: group.fields.name\n            });\n          },\n\n          reject: (err) => {\n            throw new Error(err);\n          }\n        };\n      });\n    });\n  }\n}\n\nmodule.exports = GroupClientRoutes;\n","const HomeRoutes = require('../home');\nconst HomeView = require('../../views/home');\nconst PubSub = require('../../utility/pubsub');\n\nclass HomeRouter {\n  constructor(router, prefix, viewContainer) {\n    this.routes = new HomeRoutes(router, prefix);\n\n    this.homeView = new HomeView(viewContainer);\n  }\n\n  registerRoutes() {\n    this.routes.registerRoute('home', (ctx, next) => {\n      return Promise.resolve().then(() => {\n        return {\n          params: {},\n\n          resolve: (events) => {\n            this.homeView.render(false, {});\n\n            PubSub.publish('routeChanged', {\n              name: 'Home'\n            });\n          },\n\n          reject: (err) => {\n            throw new Error(err);\n          }\n        };\n      });\n    });\n  }\n}\n\nmodule.exports = HomeRouter;\n","const JotRoutes = require('../jot');\nconst JotsView = require('../../views/jots');\nconst PubSub = require('../../utility/pubsub');\n\nclass JotClientRoutes {\n  constructor(router, prefix, viewContainer) {\n    this.routes = new JotRoutes(router, prefix);\n\n    this.jotsView = new JotsView(viewContainer);\n  }\n\n  registerRoutes() {\n    this.routes.registerRoute('all', (ctx, next) => {\n      return Promise.resolve().then(() => {\n        return {\n          params: {},\n\n          resolve: (jots) => {\n            this.jotsView.render(false, {\n              jots\n            });\n\n            PubSub.publish('routeChanged', {\n              name: 'Jots'\n            });\n          },\n\n          reject: (err) => {\n            throw new Error(err);\n          }\n        };\n      });\n    });\n  }\n}\n\nmodule.exports = JotClientRoutes;\n","'use strict';\n\nconst Routes = require('./routes');\n\nconst Group = require('../models/group');\n\nclass GroupRoutes extends Routes {\n  constructor(router, prefix = '') {\n    super(router, prefix);\n\n    this._routes.all = {\n      _path: '/',\n      _method: ['get'],\n      _action: () => {\n        return Group.loadAll();\n      }\n    };\n\n    this._routes.view = {\n      _path: '/:id',\n      _method: ['get'],\n      _action: params => {\n        return Group.load(params.id);\n      }\n    };\n\n    this._routes.add = {\n      _path: '/',\n      _method: ['post'],\n      _action: params => {\n        return new Group({\n          fields: {\n            name: params.name,\n            colour: params.colour\n          }\n        }).save();\n      }\n    };\n\n    this._routes.delete = {\n      _path: '/:id',\n      _method: ['post'],\n      _action: params => {\n        if (params.action !== 'delete') {\n          return Promise.reject();  //will cascade down to update etc.\n        } else {\n          return Group.remove(params.id).then(result => {\n            return true;\n          });\n        }\n      }\n    };\n\n    this._routes.update = {\n      _path: '/:id',\n      _method: ['post'],\n      _action: params => {\n        if (params.action !== 'update') {\n          return Promise.reject();\n        } else {\n          return Group.load(params.id).then(group => {\n            group.fields = params.fields;\n\n            return group.save();\n          });\n        }\n      }\n    };\n  }\n}\n\nmodule.exports = GroupRoutes;\n","'use strict';\n\nconst Routes = require('./routes');\n\nclass HomeRoutes extends Routes {\n  constructor(router, prefix = '') {\n    super(router, prefix);\n\n    this._routes.home = {\n      _path: '/',\n      _method: ['get'],\n      _action: () => {\n        return Promise.resolve();\n      }\n    };\n  }\n}\n\nmodule.exports = HomeRoutes;\n","'use strict';\n\nconst Routes = require('./routes');\n\nconst Jot = require('../models/jot');\n\nclass JotRoutes extends Routes {\n  constructor(router, prefix = '') {\n    super(router, prefix);\n\n    this._routes.all = {\n      _path: '/',\n      _method: ['get'],\n      _action: () => {\n        return Jot.loadAll();\n      }\n    };\n\n    this._routes.add = {\n      _path: '/',\n      _method: ['post'],\n      _action: params => {\n        return new Jot({\n          fields: {\n            content: params.content,\n            group: params.group,\n            priority: params.priority\n          }\n        }).save();\n      }\n    };\n\n    this._routes.delete = {\n      _path: '/:id',\n      _method: ['post'],\n      _action: params => {\n        if (params.action !== 'delete') {\n          return Promise.reject();  //will cascade down to update etc.\n        } else {\n          return Jot.remove(params.id).then(result => {\n            return true;\n          });\n        }\n      }\n    };\n\n    this._routes.update = {\n      _path: '/:id',\n      _method: ['post'],\n      _action: params => {\n        if (params.action !== 'update') {\n          return Promise.reject();\n        } else {\n          return Jot.load(params.id).then(jot => {\n            const currentFields = jot.fields;\n\n            jot.fields = params.fields;\n\n            if (typeof params.fields.done === 'undefined') {\n              jot.fields.done = currentFields.done;\n            }\n\n            return jot.save();\n          });\n        }\n      }\n    };\n  }\n}\n\nmodule.exports = JotRoutes;\n","class Routes {\n\n  constructor(router, prefix = '') {\n    this._router = router;\n    this._prefix = prefix;\n\n    this._routes = {};\n  }\n\n  registerRoute(name, config) {\n    const route = this._routes[name];\n    route._method.forEach(method => {\n      this._router[method](this._prefix + route._path, (...params) => {\n        config(...params).then(result => {\n          return route._action(result.params)\n            .then(result.resolve)\n            .catch(result.reject);\n        });\n      });\n    });\n  }\n}\n\nmodule.exports = Routes;\n","'use strict';\n\nconst Autolinker = require('autolinker');\n\nconst Handlebars = require('handlebars/dist/handlebars.runtime');\n\nexports.ifEqual = ifEqual;\nexports.ifIn = ifIn;\nexports.autoLink = autoLink;\n\nfunction ifEqual(conditional, equalTo, options) {\n  if (conditional === equalTo) {\n    return options.fn(this);\n  }\n\n  return options.inverse(this);\n}\n\nfunction ifIn(elem, arr, options) {\n  if (arr.indexOf(elem) > -1) {\n    return options.fn(this);\n  }\n\n  return options.inverse(this);\n}\n\nfunction autoLink(elem, options) {\n  const url = Autolinker.link(Handlebars.escapeExpression(elem));\n\n  return new Handlebars.SafeString(url);\n}\n","class PubSub {\n  //based on pubsub implementation at http://addyosmani.com/resources/essentialjsdesignpatterns/book/#observerpatternjavascript\n\n  constructor() {\n    // Storage for topics that can be broadcast\n    // or listened to\n    this._topics = {};\n\n    // An topic identifier\n    this._subUid = -1;\n  }\n\n  // Publish or broadcast events of interest\n  // with a specific topic name and arguments\n  // such as the data to pass along\n  publish(topic, args) {\n    if (!this._topics[topic]) {\n      return false;\n    }\n\n    var subscribers = this._topics[topic];\n    var len = subscribers ? subscribers.length : 0;\n\n    while (len--) {\n      subscribers[len].func(topic, args);\n    }\n\n    return this;\n  }\n\n  // Subscribe to events of interest\n  // with a specific topic name and a\n  // callback function, to be executed\n  // when the topic/event is observed\n  subscribe(topic, func) {\n    if (!this._topics[topic]) {\n      this._topics[topic] = [];\n    }\n\n    var token = (++this._subUid).toString();\n    this._topics[topic].push({\n      token: token,\n      func: func\n    });\n\n    return token;\n  }\n\n  // Unsubscribe from a specific\n  // topic, based on a tokenized reference\n  // to the subscription\n  unsubscribe(token) {\n    for (var m in this._topics) {\n      if (this._topics[m]) {\n        for (var i = 0, j = this._topics[m].length; i < j; i++) {\n          if (this._topics[m][i].token === token) {\n            this._topics[m].splice(i, 1);\n            return token;\n          }\n        }\n      }\n    }\n\n    return this;\n  }\n}\n\nmodule.exports = new PubSub();\n","const Widget = require('./widget');\n\nclass ColourSelector extends Widget {\n  initEvents(el) {\n    super.initEvents();\n\n    const widgets = el.querySelectorAll('.partial-colour-selector');\n    for (let widget of widgets) {\n      const options = widget.querySelectorAll('.colour-selector__colour');\n      const select = widget.querySelector('select');\n\n      for (let option of options) {\n        option.addEventListener('click', () => {\n          this.unselectAll(options);\n          option.classList.add('colour-selector__colour--current');\n          select.value = option.dataset.value;\n        });\n      }\n    }\n  }\n\n  unselectAll(options) {\n    for (let option of options) {\n      option.classList.remove('colour-selector__colour--current');\n    }\n  }\n}\n\nmodule.exports = ColourSelector;\n","'use strict';\n\nconst View = require('./view');\n\nconst Jot = require('../models/jot');\nconst Group = require('../models/group');\n\nconst ColourSelectorWidget = require('./colour-selector');\n\nconst PubSub = require('../utility/pubsub');\n\nclass ViewGroup extends View {\n  constructor(container) {\n    super(container);\n\n    this.registerWidget(ColourSelectorWidget);\n  }\n\n  render(preRendered, params) {\n    super.render(preRendered, params);\n\n    this._subscriptions.push(PubSub.subscribe('update', (topic, args) => {\n      if (args.changes && args.changes.length) {\n        Group.load(params.group.id).then(group => {\n          this.renderPartial('jot-list', {\n            jots: group.jots,\n            group\n          });\n        });\n      }\n    }));\n\n    this._addDocumentListener('unselectAll', 'click', () => {\n      this.unselectAll();\n    });\n  }\n\n  renderPartial(name, params) {\n    const el = super.renderPartial(name, params);\n\n    switch (name) {\n      case 'jot-list':\n        this.initEdit();\n        this.initDeleteForms();\n        this.initUpdateForms();\n        this.initWidgets(el);\n        break;\n    }\n  }\n\n  initEvents() {\n    super.initEvents();\n\n    this.initAddForm();\n    this.initEdit();\n    this.initDeleteForms();\n    this.initUpdateForms();\n  }\n\n  initAddForm() {\n    const form = this._el.querySelector('.form-jot-add');\n    form.addEventListener('submit', event => {\n      event.preventDefault();\n\n      const contentField = form.elements.content;\n      const content = contentField.value;\n\n      const groupField = form.elements.group;\n      const group = groupField.value;\n\n      const priority = form.elements.priority.value;\n\n      new Jot({\n        fields: {\n          content,\n          group,\n          priority\n        }\n      }).save().then(() => {\n        contentField.value = '';\n        contentField.focus();\n        Group.load(group).then(group => {\n          this.renderPartial('jot-list', {\n            jots: group.jots,\n            group\n          });\n        });\n      });\n    });\n\n    const toShow = form.querySelector('.show-on-focus');\n\n    form.addEventListener('click', event => {\n      event.stopPropagation();\n      this.unselectAll();\n      toShow.classList.add('show');\n    });\n  }\n\n  initEdit() {\n    const links = this._el.querySelectorAll('.jots__jot__edit');\n    for (let link of links) {\n      link.addEventListener('click', event => {\n        event.preventDefault();\n        event.stopPropagation();  //stop document listener from removing 'edit' class\n\n        const id = link.dataset.id;\n        const item = this._el.querySelector('.jots__jot-' + id);\n\n        if (!item.classList.contains('edit')) {\n          this.unselectAll();\n\n          item.classList.add('edit');\n\n          //const contentField = this._el.querySelector('.form-jot-update-' + id).elements.content;\n          //contentField.focus();\n          //contentField.value = contentField.value; //forces cursor to go to end of text\n        } else {\n          this.unselectAll();\n        }\n      });\n    }\n  }\n\n  unselectAll() {\n    //TODO: have class member to hold reference to common element/element groups to avoid requerying\n    const items = this._el.querySelectorAll('.jots__jot');\n    for (let item of items) {\n      item.classList.remove('edit');\n    }\n\n    const shows = this._el.querySelectorAll('.show-on-focus');\n    for (let show of shows) {\n      show.classList.remove('show');\n    }\n  }\n\n  initDeleteForms() {\n    const forms = this._el.querySelectorAll('.form-jot-delete');\n    for (let form of forms) {\n      form.addEventListener('submit', event => {\n        event.preventDefault();\n\n        const id = form.dataset.id;\n        const group = form.dataset.groupId;\n\n        const item = this._el.querySelector('.jots__jot-' + id);\n        //item.parentNode.parentNode.removeChild(item);\n\n        Jot.remove(id).then(() => {\n          Group.load(group).then(group => {\n            this.renderPartial('jot-list', {\n              jots: group.jots,\n              group\n            });\n          });\n        });\n      });\n    }\n  }\n\n  initUpdateForms() {\n    const forms = this._el.querySelectorAll('.form-jot-update');\n\n    for (let form of forms) {\n      const doneButton = form.elements.done;\n      const undoneButton = form.elements.undone;\n\n      if (doneButton) {\n        doneButton.addEventListener('click', () => {\n          form.elements['done-status'].value = 'done';\n        });\n      }\n\n      if (undoneButton) {\n        undoneButton.addEventListener('click', () => {\n          form.elements['done-status'].value = 'undone';\n        });\n      }\n\n      form.addEventListener('click', event => {\n        event.stopPropagation();  //stop document listener from removing 'edit' class\n      });\n\n      form.addEventListener('submit', event => {\n        event.preventDefault();\n\n        const id = form.dataset.id;\n\n        const content = form.elements.content.value;\n        const group = form.elements.group.value;\n        const doneStatus = form.elements['done-status'].value;\n        const priority = form.elements.priority.value;\n\n        Jot.load(id).then(jot => {\n\n          const currentFields = jot.fields;\n\n          jot.fields = {\n            content,\n            group,\n            priority\n          };\n\n          if (doneStatus === 'done') {\n            jot.fields.done = true;\n          } else if (doneStatus === 'undone') {\n            jot.fields.done = false;\n          } else {\n            jot.fields.done = currentFields.done;\n          }\n\n          jot.save().then(() => {\n            Group.load(group).then(group => {\n              this.renderPartial('jot-list', {\n                jots: group.jots,\n                group\n              });\n            });\n          });\n        });\n      });\n    }\n  }\n}\n\nmodule.exports = ViewGroup;\n","'use strict';\n\nconst View = require('./view');\n\nconst Group = require('../models/group');\n\nconst ColourSelectorWidget = require('./colour-selector');\n\nconst PubSub = require('../utility/pubsub');\n\nclass ViewGroups extends View {\n\n  constructor(container) {\n    super(container);\n\n    this.registerWidget(ColourSelectorWidget);\n  }\n\n  render(preRendered, params) {\n    super.render(preRendered, params);\n\n    this._subscriptions.push(PubSub.subscribe('update', (topic, args) => {\n      if (args.changes && args.changes.length) {\n        Group.loadAll().then(groups => {\n          this.renderPartial('group-list', {\n            groups\n          });\n        });\n      }\n    }));\n\n    this._addDocumentListener('unselectAll', 'click', () => {\n      this.unselectAll();\n    });\n  }\n\n  renderPartial(name, params) {\n    const el = super.renderPartial(name, params);\n\n    switch (name) {\n      case 'group-list':\n        this.initEdit();\n        this.initDeleteForms();\n        this.initUpdateForms();\n        this.initWidgets(el);\n        break;\n    }\n  }\n\n  initEvents() {\n    super.initEvents();\n\n    this.initAddForm();\n    this.initEdit();\n    this.initDeleteForms();\n    this.initUpdateForms();\n  }\n\n  initAddForm() {\n    const form = this._el.querySelector('.form-group-add');\n    form.addEventListener('submit', event => {\n      event.preventDefault();\n\n      const nameField = form.elements.name;\n      const name = nameField.value;\n\n      const colour = form.elements.colour.value;\n\n      new Group({\n        fields: {\n          name,\n          colour\n        }\n      }).save().then(() => {\n        nameField.value = '';\n        nameField.focus();\n        Group.loadAll().then(groups => {\n          this.renderPartial('group-list', {\n            groups\n          });\n        });\n      });\n    });\n\n    const toShow = form.querySelector('.show-on-focus');\n\n    form.addEventListener('click', event => {\n      event.stopPropagation();\n      this.unselectAll();\n      toShow.classList.add('show');\n    });\n  }\n\n  initEdit() {\n    const editLinks = this._el.querySelectorAll('.groups__group__edit');\n    for (let link of editLinks) {\n      link.addEventListener('click', event => {\n        event.preventDefault();\n        event.stopPropagation();  //stop document listener from removing 'edit' class\n\n        const id = link.dataset.id;\n        const item = this._el.querySelector('.groups__group-' + id);\n\n        if (!item.classList.contains('edit')) {\n          this.unselectAll();\n\n          item.classList.add('edit');\n\n          //const nameField = this._el.querySelector('.form-group-update-' + id).elements.name;\n          //nameField.focus();\n          //nameField.value = nameField.value; //forces cursor to go to end of text\n        } else {\n          this.unselectAll();\n        }\n      });\n    }\n  }\n\n  unselectAll() {\n    //TODO: have class member to hold reference to common element/element groups to avoid requerying\n    const items = this._el.querySelectorAll('.groups__group');\n    for (let item of items) {\n      item.classList.remove('edit');\n    }\n\n    const shows = this._el.querySelectorAll('.show-on-focus');\n    for (let show of shows) {\n      show.classList.remove('show');\n    }\n  }\n\n  initDeleteForms() {\n    const forms = this._el.querySelectorAll('.form-group-delete');\n    for (let form of forms) {\n      form.addEventListener('submit', event => {\n        event.preventDefault();\n\n        const id = form.dataset.id;\n\n        const item = this._el.querySelector('.groups__group-' + id);\n        //item.parentNode.parentNode.removeChild(item);\n\n        Group.remove(id).then(() => {\n          Group.loadAll().then(groups => {\n            this.renderPartial('group-list', {\n              groups\n            });\n          });\n        });\n      });\n    }\n  }\n\n  initUpdateForms() {\n    const forms = this._el.querySelectorAll('.form-group-update');\n\n    for (let form of forms) {\n      form.addEventListener('click', event => {\n        event.stopPropagation();  //stop document listener from removing 'edit' class\n      });\n\n      form.addEventListener('submit', event => {\n        event.preventDefault();\n\n        const id = form.dataset.id;\n\n        const name = form.elements.name.value;\n        const colour = form.elements.colour.value;\n\n        Group.load(id).then(group => {\n\n          group.fields = {\n            name,\n            colour\n          };\n\n          group.save().then(() => {\n            Group.loadAll().then(groups => {\n              this.renderPartial('group-list', {\n                groups\n              });\n            });\n          });\n        });\n      });\n    }\n  }\n\n}\n\nmodule.exports = ViewGroups;\n","'use strict';\n\nconst View = require('./view');\n\nclass ViewHome extends View {\n\n}\n\nmodule.exports = ViewHome;\n","'use strict';\n\nconst View = require('./view');\n\nconst Jot = require('../models/jot');\n\nconst PubSub = require('../utility/pubsub');\n\nclass ViewJots extends View {\n  render(preRendered, params) {\n    super.render(preRendered, params);\n\n    this._subscriptions.push(PubSub.subscribe('update', (topic, args) => {\n      console.log(args);\n\n      if (args.changes && args.changes.length) {\n        Jot.loadAll().then(jots => {\n          this.render(false, {\n            jots\n          });\n        });\n      }\n    }));\n  }\n\n}\n\nmodule.exports = ViewJots;\n","const View = require('./view');\n\nconst PubSub = require('../utility/pubsub');\n\nclass TitleBarView extends View {\n  constructor(container) {\n    super(container);\n\n    PubSub.subscribe('routeChanged', (topic, args) => {\n      this.renderPartial('titlebar-title', args);\n    });\n  }\n\n  initEvents() {\n    super.initEvents();\n\n    this._nav = this._el.querySelector('nav');\n    this._navOverlay = this._el.querySelector('.md-nav-overlay');\n    this._btnMenuOpen = this._el.querySelector('.md-btn-menu');\n    this._btnMenuClose = this._el.querySelector('.md-btn-menu.close');\n    this._links = this._el.querySelectorAll('.md-nav-body a');\n\n    this._btnMenuOpen.addEventListener('click', event => {\n      event.preventDefault();\n      this._openNav();\n    });\n\n    this._btnMenuClose.addEventListener('click', event => {\n      event.preventDefault();\n      this._closeNav();\n    });\n\n    for (let i = 0; i < this._links.length; i++) {\n      this._links[i].addEventListener('click', () => this._closeNav());\n    }\n  }\n\n  _openNav() {\n    this._nav.classList.add('show');\n    this._navOverlay.classList.add('show');\n  }\n\n  _closeNav() {\n    this._nav.classList.remove('show');\n    this._navOverlay.classList.remove('show');\n  }\n\n}\n\nmodule.exports = TitleBarView;\n","class ViewContainer {\n  constructor(elID, templates, partials) {\n    this._el = document.getElementById(elID);\n\n    this._templates = templates;\n    this._partials = partials;\n\n    this._currentView = null;\n  }\n\n  update(view, html) {\n    if (this._currentView) {\n      this._currentView.cleanup();\n    }\n\n    this._currentView = view;\n    this._el.innerHTML = html;\n  }\n}\n\nmodule.exports = ViewContainer;\n","'use strict';\n\nconst Handlebars = require('handlebars/dist/handlebars.runtime');\nconst PubSub = require('../utility/pubsub');\n\nclass View {\n  constructor(container) {\n    this._container = container;\n\n    this._subscriptions = [];\n    this._documentListeners = {};\n    this._widgets = [];\n  }\n\n  //tidy this up?\n  get _el() {\n    return this._container._el;\n  }\n\n  render(preRendered, params) {\n    this.cleanup();\n\n    if (!preRendered) {\n      var template = Handlebars.template(this._container._templates[this._getTemplate()]);\n      this._container.update(this, template(params));\n    }\n\n    this.initEvents();\n  }\n\n  renderPartial(name, params) {\n    console.log('render partial');\n\n    var template = Handlebars.template(this._container._partials[name]);\n    const view = this._el.querySelector('.partial-' + name);\n    view.outerHTML = template(params);\n\n    return this._el.querySelector('.partial-' + name);\n  }\n\n  _getTemplate() {\n    return this.constructor.name.toLowerCase().substring(4);\n  }\n\n  _addDocumentListener(name, type, fn) {\n    if (!this._documentListeners[name]) {\n      this._documentListeners[name] = {\n        type,\n        fn: fn.bind(this)\n      };\n    }\n\n    document.addEventListener(type, this._documentListeners[name].fn);\n  }\n\n  cleanup() {\n    console.log('view cleaup', this);\n\n    for (let sub of this._subscriptions) {\n      PubSub.unsubscribe(sub);\n    }\n\n    for (let lname in this._documentListeners) {\n      const listener = this._documentListeners[lname];\n      document.removeEventListener(listener.type, listener.fn);\n    }\n\n    this.cleanupWidgets();\n  }\n\n  initEvents() {\n    this.initWidgets(this._el);\n  }\n\n  registerWidget(Widget) {\n    this._widgets.push(new Widget());\n  }\n\n  initWidgets(el) {\n    this._widgets.forEach(widget => {\n      widget.initEvents(el);\n    });\n  }\n\n  cleanupWidgets() {\n    this._widgets.forEach(widget => {\n      widget.cleanup();\n    });\n  }\n\n}\n\nmodule.exports = View;\n","class Widget {\n\n  constructor() {\n  }\n\n  initEvents() {\n\n  }\n\n  cleanup() {\n  }\n}\n\nmodule.exports = Widget;\n"]}